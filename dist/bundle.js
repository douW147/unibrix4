(()=>{"use strict";var e={671:(e,t,i)=>{i.d(t,{Zz:()=>S,VA:()=>y});const r="field",s="fieldSizeSelect",n="fieldCellsSizeForWinSelect",o="gameInitializationButton",l=document.getElementById("refreshButton"),a=document.getElementById("playerVsPlayerButton"),d=document.getElementById("playerVsComputerButton"),c=document.getElementById(s),m=document.getElementById(o),h=document.getElementById(n),u=document.getElementById("hintHeading"),f="controll-buttons__controll-button_disabled",g=new class{constructor(){this.fieldName=r,this.isGameStarts=!1,this.gameField=new class{constructor(e){this.field,this.fieldSize=e,this.generateField(e),this.gameFieldWithRowAndCols=this.generateFieldWithRowAndCols(),this.lenghtForWin=3}refresh(){this.field.fill("")}getRandomCellIdForComputerStep(){for(;;){const e=Math.floor(Math.random()*this.field.length);if(this.isCellEmpty(e))return e}}getLenghtForWin(){return this.lenghtForWin}getFieldSize(){return this.fieldSize}setSymbolToSelectedFieldCell(e,t){this.field[t]=e}setLenghtForWin(e){this.lenghtForWin=e}isCellEmpty(e){return""===this.field[e]}isAllCellsTaken(){return this.field.every((e=>""!==e))}isCellExistsOnField(e,t){return void 0!==this.gameFieldWithRowAndCols[e]&&void 0!==this.gameFieldWithRowAndCols[e][t]}isWinCombination(e){return this.gameFieldWithRowAndCols=this.generateFieldWithRowAndCols(),!!(this.isWinOnRow(e)||this.isWinOnColumn(e)||this.isWinOnMainDiagonal(e)||this.isWinOnSecondaryDiagonal(e))}isWinOnRow(e){for(let t=0;t<this.gameFieldWithRowAndCols.length;t++){let i=0;for(let r=0;r<this.gameFieldWithRowAndCols[t].length;r++)if(this.gameFieldWithRowAndCols[t][r]===e?i++:i=0,i===this.lenghtForWin)return!0}}isWinOnColumn(e){for(let t=0;t<this.gameFieldWithRowAndCols.length;t++){let i=0;for(let r=0;r<this.gameFieldWithRowAndCols[t].length;r++)if(this.gameFieldWithRowAndCols[r][t]===e?i++:i=0,i===this.lenghtForWin)return!0}}isWinOnMainDiagonal(e){for(let t=0;t<this.gameFieldWithRowAndCols.length;t++)for(let i=0;i<this.gameFieldWithRowAndCols[t].length;i++){let r=0;for(let s=0;s<this.lenghtForWin+1;s++){const n=t+s,o=i+s;if(this.isCellExistsOnField(n,o)&&this.gameFieldWithRowAndCols[n][o]===e&&r++,r===this.lenghtForWin)return!0}}}isWinOnSecondaryDiagonal(e){for(let t=0;t<this.gameFieldWithRowAndCols.length;t++)for(let i=0;i<this.gameFieldWithRowAndCols[t].length;i++){let r=0;for(let s=0;s<this.lenghtForWin+1;s++){const n=t+s,o=i-s;if(this.isCellExistsOnField(o,n)&&this.gameFieldWithRowAndCols[o][n]===e&&r++,r===this.lenghtForWin)return!0}}}generateField(e){this.field=new Array(e*e).fill(""),this.fieldSize=e}generateFieldWithRowAndCols(){this.gameFieldWithRowAndCols=[];const e=[0,this.fieldSize];for(let t=0;t<this.fieldSize;t++)this.gameFieldWithRowAndCols.push([...this.field.slice(e[0],e[1])]),e[0]+=this.fieldSize,e[1]+=this.fieldSize;return this.gameFieldWithRowAndCols}}(3),this.htmlGameField=new class{constructor(){this.firstStepSymbol="X",this.secondStepSymbol="O",this.firstStepSymbolClassName="controll-buttons__controll-button_color-blue",this.secondStepSymbolClassName="controll-buttons__controll-button_color-red",this.cellTagName="div",this.cellIdName="cell",this.cellClassName="field__cell",this.rowIdAndClassName="field__row",this.rowTagName="div",this.fieldIdName=r,this.generateField(3),this.htmlMessageHeading=document.getElementById("messageHeading"),this.allHtmlCells=document.getElementsByClassName(this.cellClassName)}refreshHtnlCells(){for(let e=0;e<this.allHtmlCells.length;e++)this.allHtmlCells[e].innerHTML="",this.allHtmlCells[e].classList.remove(this.firstStepSymbolClassName),this.allHtmlCells[e].classList.remove(this.secondStepSymbolClassName)}refreshHeadingMessage(){this.htmlMessageHeading.innerHTML="",this.htmlMessageHeading.classList.remove(this.firstStepSymbolClassName),this.htmlMessageHeading.classList.remove(this.secondStepSymbolClassName)}setHeadingInnerHtml(e){this.htmlMessageHeading.innerHTML=e,e.slice(0,1)===this.firstStepSymbol?(this.htmlMessageHeading.classList.remove(this.secondStepSymbolClassName),this.htmlMessageHeading.classList.add(this.firstStepSymbolClassName)):e.slice(0,1)===this.secondStepSymbol&&(this.htmlMessageHeading.classList.remove(this.firstStepSymbolClassName),this.htmlMessageHeading.classList.add(this.secondStepSymbolClassName))}setSymbolToSelctedHtmlCell(e,t){const i=document.getElementById(`cell${t}`);i.innerHTML=e,e===this.firstStepSymbol?i.classList.add(this.firstStepSymbolClassName):e===this.secondStepSymbol&&i.classList.add(this.secondStepSymbolClassName)}generateField(e){let t=0;const i=document.getElementById(this.fieldIdName);i.innerHTML="";for(let r=0;r<e;r++){const r=this.generateRow();for(let i=0;i<e;i++){const e=this.generateCell(t);r.appendChild(e),t++}i.appendChild(r)}}generateRow(){const e=document.createElement(this.rowTagName);return e.setAttribute("id",this.rowIdAndClassName),e.classList.add(this.rowIdAndClassName),e}generateCell(e){const t=document.createElement(this.cellTagName);return t.setAttribute("id",`${this.cellIdName}${e}`),t.classList.add(this.cellClassName),t.addEventListener("click",S),t}},this.gameSymbols=new class{constructor(){this._firstStepSymbol="X",this._secondStepSymbol="O",this._currentStepSymbol=this.firstStepSymbol}refresh(){this._currentStepSymbol=this._firstStepSymbol}get firstStepSymbol(){return this._firstStepSymbol}get currentStepSymbol(){return this._currentStepSymbol}set currentStepSymbol(e){this._currentStepSymbol=e}toggleCurrentStepSymbol(){this._currentStepSymbol=this._currentStepSymbol===this._secondStepSymbol?this._firstStepSymbol:this._secondStepSymbol}},this._gameMode=new class{constructor(){this._isGameVsComputer=!1}get isGameVsComputer(){return this._isGameVsComputer}set isGameVsComputer(e){this._isGameVsComputer=e}isPlayerVsPlayerGameMode(){return this._isGameVsComputer}isPlayerVsComputerGameMode(){return!this._isGameVsComputer}},this.gameStorage=new class{constructor(){this.fieldNameOfGameField=r,this.fieldNameOfGameFieldSize="fieldSize",this.fieldNameOfCurrentSymbol="currentSymbol",this.fieldNameOfIsGameVsComputer="gameMode",this.fieldNameOfCellsForWin="fieldNameOfCellsForWin",this.gameLocalStorage=window.localStorage}refresh(){const e=this.getField();for(let t=0;t<e.length;t++)e[t]="";console.log(e.join(",")),this.setGameFieldToLocalStorrage(e.join(",").toString())}clear(){this.gameLocalStorage.clear()}getfieldSize(){return parseInt(this.gameLocalStorage[this.fieldNameOfGameFieldSize])}getField(){return this.gameLocalStorage[this.fieldNameOfGameField].split(",")}getCurrentStepSymbol(){return this.gameLocalStorage[this.fieldNameOfCurrentSymbol]}getIsGameVsComputer(){return this.gameLocalStorage[this.fieldNameOfIsGameVsComputer]}getCellsQuantityForWin(){return parseInt(this.gameLocalStorage[this.fieldNameOfCellsForWin])}setDefaultData(){this.setFieldSize(3),this.setCurrentStepSymbol("X"),this.setIsGameVsComputer(!1),this.setCellsQuantityForWin(3)}setFieldSize(e){this.gameLocalStorage[this.fieldNameOfGameFieldSize]=e}setGameFieldToLocalStorrage(e){this.gameLocalStorage.setItem(this.fieldNameOfGameField,e.toString())}setCurrentStepSymbol(e){this.gameLocalStorage[this.fieldNameOfCurrentSymbol]=e}setIsGameVsComputer(e){this.gameLocalStorage[this.fieldNameOfIsGameVsComputer]=e}setCellsQuantityForWin(e){this.gameLocalStorage[this.fieldNameOfCellsForWin]=e}isOneOfFieldUndefined(){return this.isGameVsComputerUndefined()||this.isCurrentStepSymbolUndefined()||this.isFieldFromLocalStorrageEmpty()||this.isfieldSizeFromLocalStorrageUndefined()||this.isCellsForWinUndefined()}isGameVsComputerUndefined(){return void 0===this.gameLocalStorage[this.fieldNameOfIsGameVsComputer]}isCurrentStepSymbolUndefined(){this.gameLocalStorage[this.fieldNameOfCurrentSymbol]}isFieldFromLocalStorrageEmpty(){return void 0===this.gameLocalStorage[this.fieldNameOfGameField]}isfieldSizeFromLocalStorrageUndefined(){return void 0===this.gameLocalStorage[this.fieldNameOfGameFieldSize]||isNaN(this.gameLocalStorage[this.fieldNameOfGameFieldSize])}isCellsForWinUndefined(){this.gameLocalStorage[this.fieldNameOfCellsForWin]}}}refreshGame(){this.gameField.refresh(),this.gameStorage.refresh(),this.htmlGameField.refreshHeadingMessage(),this.htmlGameField.refreshHtnlCells(),this.gameSymbols.refresh(),this.isGameStarts||this.toggleIsGameStarts()}get gameMode(){return this._gameMode}get gameSembolsRefresh(){return this.gameSymbols.refresh}getGameEndMessage(){return this.gameField.isWinCombination(this.gameSymbols.currentStepSymbol)?(this.toggleIsGameStarts(),`${this.gameSymbols.currentStepSymbol} wins`):this.gameField.isAllCellsTaken()?(this.toggleIsGameStarts(),"Draw"):""}setGameDataFromLocalStorrage(){const e=this.gameStorage.getField(),t=this.gameStorage.getfieldSize(),i=this.gameStorage.getCurrentStepSymbol(),r=this.gameStorage.getCellsQuantityForWin();this.gameField.generateField(t),this.htmlGameField.generateField(t),this.gameField.setLenghtForWin(r),this.set_gameModeFromLocalStorage(),this.setSymbolsFromLocalStorageOnFields(e),this.setGameHeadingMessageFromLocalStorage(),this.gameSymbols.currentStepSymbol=i,this.setInputValuesFromLocalStorrage(t.toString(),r.toString())}setSymbolsFromLocalStorageOnFields(e){e.forEach(((e,t)=>{this.gameField.setSymbolToSelectedFieldCell(e,t),this.htmlGameField.setSymbolToSelctedHtmlCell(e,t)}))}set_gameModeFromLocalStorage(){"true"===this.gameStorage.getIsGameVsComputer()&&y(!1)}setGameHeadingMessageFromLocalStorage(){if(""===this.getGameEndMessage()==0){const e=this.getGameEndMessage();this.htmlGameField.setHeadingInnerHtml(e),this.toggleIsGameStarts()}}setInputValuesFromLocalStorrage(e,t){const i=document.getElementById(s),r=document.getElementById(n);i.value=e,r.value=t}toggleIsGameStarts(){this.isGameStarts=!this.isGameStarts}isPlayerCanStepToChosenCell(e){return this.gameField.isCellEmpty(e)&&this.isGameStarts}isComputerCanStep(){return this._gameMode.isGameVsComputer&&!this.gameField.isAllCellsTaken()&&this.isGameStarts}makeStep(e){const t=this.gameSymbols.currentStepSymbol;this.gameField.setSymbolToSelectedFieldCell(t,e),this.htmlGameField.setSymbolToSelctedHtmlCell(t,e),this.gameStorage.setGameFieldToLocalStorrage(this.gameField.field.toString());const i=this.getGameEndMessage();this.htmlGameField.setHeadingInnerHtml(i),this.gameSymbols.toggleCurrentStepSymbol(),this.gameStorage.setCurrentStepSymbol(this.gameSymbols.currentStepSymbol)}makeComputerStep(){const e=this.gameField.getRandomCellIdForComputerStep();this.makeStep(e)}},p=new class{constructor(){this.isAvailible=!0,this.htmlButton=document.getElementById(o)}get isClicked(){return this.isAvailible}set isClicked(e){this.isAvailible=e}};function S(e){const t=parseInt(function(e){const t="cell".length;return e.toString().slice(t)}(e.target.id));g.isPlayerCanStepToChosenCell(t)&&(g.makeStep(t),g.isComputerCanStep()&&g.makeComputerStep())}function y(e=!0){g.gameMode.isPlayerVsComputerGameMode()&&!p.isClicked&&(e&&g.refreshGame(),g.gameMode.isGameVsComputer=!0,g.gameStorage.setIsGameVsComputer(!0),d.classList.remove(f),a.classList.add(f))}m.addEventListener("click",(function(e){p.isClicked&&(p.isClicked=!1,g.toggleIsGameStarts(),g.gameStorage.isOneOfFieldUndefined()?g.gameStorage.setDefaultData():g.setGameDataFromLocalStorrage(),u.classList.add("hint-container__heading_disable"),e.target.classList.add(f),l.classList.remove(f))})),l.addEventListener("click",(function(){p.isClicked||g.refreshGame()})),a.addEventListener("click",(()=>{!function(e=!0){g.gameMode.isPlayerVsPlayerGameMode()&&!p.isClicked&&(e&&g.refreshGame(),g.gameMode.isGameVsComputer=!1,g.gameStorage.setIsGameVsComputer(!1),a.classList.remove(f),d.classList.add(f))}()})),d.addEventListener("click",(()=>{y()})),c.onchange=function(e){const t=parseInt(e.target.value);t<3||t>100?window.alert("Must be in range(3, 100)"):(p.isClicked||g.refreshGame(),g.gameStorage.setFieldSize(t),g.gameField.generateField(t),g.gameStorage.setGameFieldToLocalStorrage(g.gameField.field.toString()),g.htmlGameField.generateField(t))},h.onchange=function(e){const t=parseInt(e.target.value);t<3||t>100?window.alert("Must be in range(3, 100)"):t>g.gameField.getFieldSize()?window.alert("Must be less then field size"):(g.gameField.setLenghtForWin(t),g.gameStorage.setCellsQuantityForWin(t))}}},t={};function i(r){var s=t[r];if(void 0!==s){if(void 0!==s.error)throw s.error;return s.exports}var n=t[r]={exports:{}};try{var o={id:r,module:n,factory:e[r],require:i};i.i.forEach((function(e){e(o)})),n=o.module,o.factory.call(n.exports,n,n.exports,o.require)}catch(e){throw n.error=e,e}return n.exports}i.m=e,i.c=t,i.i=[],i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"c966fcb42a6e322069d1",i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t,r,s={},n=i.c,o=[],l=[],a="idle",d=0,c=[];function m(e){a=e;for(var t=[],i=0;i<l.length;i++)t[i]=l[i].call(null,e);return Promise.all(t)}function h(){0==--d&&m("ready").then((function(){if(0===d){var e=c;c=[];for(var t=0;t<e.length;t++)e[t]()}}))}function u(e){if("idle"!==a)throw new Error("check() is only allowed in idle status");return m("check").then(i.hmrM).then((function(r){return r?m("prepare").then((function(){var s=[];return t=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,n){return i.hmrC[n](r.c,r.r,r.m,e,t,s),e}),[])).then((function(){return t=function(){return e?g(e):m("ready").then((function(){return s}))},0===d?t():new Promise((function(e){c.push((function(){e(t())}))}));var t}))})):m(p()?"ready":"idle").then((function(){return null}))}))}function f(e){return"ready"!==a?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+a+")")})):g(e)}function g(e){e=e||{},p();var i=t.map((function(t){return t(e)}));t=void 0;var s=i.map((function(e){return e.error})).filter(Boolean);if(s.length>0)return m("abort").then((function(){throw s[0]}));var n=m("dispose");i.forEach((function(e){e.dispose&&e.dispose()}));var o,l=m("apply"),a=function(e){o||(o=e)},d=[];return i.forEach((function(e){if(e.apply){var t=e.apply(a);if(t)for(var i=0;i<t.length;i++)d.push(t[i])}})),Promise.all([n,l]).then((function(){return o?m("fail").then((function(){throw o})):r?g(e).then((function(e){return d.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):m("idle").then((function(){return d}))}))}function p(){if(r)return t||(t=[]),Object.keys(i.hmrI).forEach((function(e){r.forEach((function(r){i.hmrI[e](r,t)}))})),r=void 0,!0}i.hmrD=s,i.i.push((function(c){var g,p,S,y,C=c.module,F=function(t,i){var r=n[i];if(!r)return t;var s=function(s){if(r.hot.active){if(n[s]){var l=n[s].parents;-1===l.indexOf(i)&&l.push(i)}else o=[i],e=s;-1===r.children.indexOf(s)&&r.children.push(s)}else console.warn("[HMR] unexpected require("+s+") from disposed module "+i),o=[];return t(s)},l=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(i){t[e]=i}}};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&"e"!==c&&Object.defineProperty(s,c,l(c));return s.e=function(e){return function(e){switch(a){case"ready":m("prepare");case"prepare":return d++,e.then(h,h),e;default:return e}}(t.e(e))},s}(c.require,c.id);C.hot=(g=c.id,p=C,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:S=e!==g,_requireSelf:function(){o=p.parents.slice(),e=S?void 0:g,i(g)},active:!0,accept:function(e,t,i){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)y._acceptedDependencies[e[r]]=t||function(){},y._acceptedErrorHandlers[e[r]]=i;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=i},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,a){case"idle":t=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](g,t)})),m("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](g,t)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(g)}},check:u,apply:f,status:function(e){if(!e)return a;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[g]},e=void 0,y),C.parents=o,C.children=[],o=[],c.require=F})),i.hmrC={},i.hmrI={}})(),(()=>{var e,t,r,s,n=i.hmrS_require=i.hmrS_require||{179:1};function o(e,r){var n=require("./"+i.hu(e)),o=n.modules,l=n.runtime;for(var a in o)i.o(o,a)&&(t[a]=o[a],r&&r.push(a));l&&s.push(l)}function l(o){function l(e){for(var t=[e],r={},s=t.map((function(e){return{chain:[e],id:e}}));s.length>0;){var n=s.pop(),o=n.id,l=n.chain,d=i.c[o];if(d&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:o};if(d.hot._main)return{type:"unaccepted",chain:l,moduleId:o};for(var c=0;c<d.parents.length;c++){var m=d.parents[c],h=i.c[m];if(h){if(h.hot._declinedDependencies[o])return{type:"declined",chain:l.concat([m]),moduleId:o,parentId:m};-1===t.indexOf(m)&&(h.hot._acceptedDependencies[o]?(r[m]||(r[m]=[]),a(r[m],[o])):(delete r[m],t.push(m),s.push({chain:l.concat([m]),id:m})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];-1===e.indexOf(r)&&e.push(r)}}i.f&&delete i.f.requireHmr,e=void 0;var d={},c=[],m={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var u in t)if(i.o(t,u)){var f,g=t[u],p=!1,S=!1,y=!1,C="";switch((f=g?l(u):{type:"disposed",moduleId:u}).chain&&(C="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":o.onDeclined&&o.onDeclined(f),o.ignoreDeclined||(p=new Error("Aborted because of self decline: "+f.moduleId+C));break;case"declined":o.onDeclined&&o.onDeclined(f),o.ignoreDeclined||(p=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+C));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(f),o.ignoreUnaccepted||(p=new Error("Aborted because "+u+" is not accepted"+C));break;case"accepted":o.onAccepted&&o.onAccepted(f),S=!0;break;case"disposed":o.onDisposed&&o.onDisposed(f),y=!0;break;default:throw new Error("Unexception type "+f.type)}if(p)return{error:p};if(S)for(u in m[u]=g,a(c,f.outdatedModules),f.outdatedDependencies)i.o(f.outdatedDependencies,u)&&(d[u]||(d[u]=[]),a(d[u],f.outdatedDependencies[u]));y&&(a(c,[f.moduleId]),m[u]=h)}t=void 0;for(var F,b=[],v=0;v<c.length;v++){var I=c[v],_=i.c[I];_&&(_.hot._selfAccepted||_.hot._main)&&m[I]!==h&&!_.hot._selfInvalidated&&b.push({module:I,require:_.hot._requireSelf,errorHandler:_.hot._selfAccepted})}return{dispose:function(){var e;r.forEach((function(e){delete n[e]})),r=void 0;for(var t,s=c.slice();s.length>0;){var o=s.pop(),l=i.c[o];if(l){var a={},m=l.hot._disposeHandlers;for(v=0;v<m.length;v++)m[v].call(null,a);for(i.hmrD[o]=a,l.hot.active=!1,delete i.c[o],delete d[o],v=0;v<l.children.length;v++){var h=i.c[l.children[v]];h&&(e=h.parents.indexOf(o))>=0&&h.parents.splice(e,1)}}}for(var u in d)if(i.o(d,u)&&(l=i.c[u]))for(F=d[u],v=0;v<F.length;v++)t=F[v],(e=l.children.indexOf(t))>=0&&l.children.splice(e,1)},apply:function(e){for(var t in m)i.o(m,t)&&(i.m[t]=m[t]);for(var r=0;r<s.length;r++)s[r](i);for(var n in d)if(i.o(d,n)){var l=i.c[n];if(l){F=d[n];for(var a=[],h=[],u=[],f=0;f<F.length;f++){var g=F[f],p=l.hot._acceptedDependencies[g],S=l.hot._acceptedErrorHandlers[g];if(p){if(-1!==a.indexOf(p))continue;a.push(p),h.push(S),u.push(g)}}for(var y=0;y<a.length;y++)try{a[y].call(null,F)}catch(t){if("function"==typeof h[y])try{h[y](t,{moduleId:n,dependencyId:u[y]})}catch(i){o.onErrored&&o.onErrored({type:"accept-error-handler-errored",moduleId:n,dependencyId:u[y],error:i,originalError:t}),o.ignoreErrored||(e(i),e(t))}else o.onErrored&&o.onErrored({type:"accept-errored",moduleId:n,dependencyId:u[y],error:t}),o.ignoreErrored||e(t)}}}for(var C=0;C<b.length;C++){var v=b[C],I=v.module;try{v.require(I)}catch(t){if("function"==typeof v.errorHandler)try{v.errorHandler(t,{moduleId:I,module:i.c[I]})}catch(i){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:I,error:i,originalError:t}),o.ignoreErrored||(e(i),e(t))}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:I,error:t}),o.ignoreErrored||e(t)}}return c}}}i.hmrI.require=function(e,n){t||(t={},s=[],r=[],n.push(l)),i.o(t,e)||(t[e]=i.m[e])},i.hmrC.require=function(a,d,c,m,h,u){h.push(l),e={},r=d,t=c.reduce((function(e,t){return e[t]=!1,e}),{}),s=[],a.forEach((function(t){i.o(n,t)&&void 0!==n[t]?(m.push(o(t,u)),e[t]=!0):e[t]=!1})),i.f&&(i.f.requireHmr=function(t,r){e&&i.o(e,t)&&!e[t]&&(r.push(o(t)),e[t]=!0)})},i.hmrM=function(){return Promise.resolve().then((function(){return require("./"+i.hmrF())})).catch((function(e){if("MODULE_NOT_FOUND"!==e.code)throw e}))}})(),i(671)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVoQmtDLEVBQVN0TCxLQUFLMlAsRUFBZ0J2RyxFQUFTd0csSUFDdkNQLEVBQW9CakcsSUFBVyxHQUUvQmlHLEVBQW9CakcsSUFBVyxDQUVqQyxJQUNJekIsRUFBb0JtSixJQUN2Qm5KLEVBQW9CbUosRUFBRUMsV0FBYSxTQUFVM0gsRUFBU2tDLEdBRXBEK0QsR0FDQTFILEVBQW9CbUIsRUFBRXVHLEVBQXFCakcsS0FDMUNpRyxFQUFvQmpHLEtBRXJCa0MsRUFBU3RMLEtBQUsyUCxFQUFnQnZHLElBQzlCaUcsRUFBb0JqRyxJQUFXLEVBRWpDLEVBRUYsRUFFQXpCLEVBQW9CcUQsS0FBTyxXQUMxQixPQUFPUixRQUFRa0IsVUFBVWYsTUFBSyxXQUM3QixPQUFPdkMsUUFBUSxLQUFPVCxFQUFvQjJCLE9BQzNDLElBQVUsT0FBRSxTQUFTaUQsR0FBTyxHQUFnQixxQkFBYkEsRUFBSTJHLEtBQTZCLE1BQU0zRyxDQUFLLEdBQzVFLEMsS0MxZDBCNUUsRUFBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3VuaWJyaXg0LTEvLi9zcmMvY29uc3RhbnRzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly91bmlicml4NC0xLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly91bmlicml4NC0xLy4vc3JjL2NsYXNzZXMvdGljLXRhYy10b2UtY2xhc3MudHMiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS8uL3NyYy9jbGFzc2VzL2dhbWUtZmllbGQtY2xhc3MudHMiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS8uL3NyYy9jbGFzc2VzL2h0bWwtZ2FtZS1maWVsZC1jbGFzcy50cyIsIndlYnBhY2s6Ly91bmlicml4NC0xLy4vc3JjL2NsYXNzZXMvZ2FtZS1zeW1ib2xzLWNsYXNzLnRzIiwid2VicGFjazovL3VuaWJyaXg0LTEvLi9zcmMvY2xhc3Nlcy9nYW1lLW1vZGUtY2xhc3MudHMiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS8uL3NyYy9jbGFzc2VzL2dhbWUtbG9jYWwtc3RvcmFnZS1jbGFzcy50cyIsIndlYnBhY2s6Ly91bmlicml4NC0xLy4vc3JjL2NsYXNzZXMvZ2FtZS1pbml0aWFsaXphdGlvbi1idXR0b24tY2xhc3MudHMiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly91bmlicml4NC0xL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly91bmlicml4NC0xL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCB1cGRhdGUgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS93ZWJwYWNrL3J1bnRpbWUvZ2V0IHVwZGF0ZSBtYW5pZmVzdCBmaWxlbmFtZSIsIndlYnBhY2s6Ly91bmlicml4NC0xL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCIsIndlYnBhY2s6Ly91bmlicml4NC0xL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS93ZWJwYWNrL3J1bnRpbWUvaG90IG1vZHVsZSByZXBsYWNlbWVudCIsIndlYnBhY2s6Ly91bmlicml4NC0xL3dlYnBhY2svcnVudGltZS9yZXF1aXJlIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdW5pYnJpeDQtMS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGZpcnN0U3RlcFN5bWJvbCA9IFwiWFwiO1xyXG5leHBvcnQgY29uc3Qgc2Vjb25kU3RlcFN5bWJvbCA9IFwiT1wiO1xyXG5leHBvcnQgY29uc3QgZmlyc3RTdGVwU3ltYm9sQ2xhc3NOYW1lID0gXCJjb250cm9sbC1idXR0b25zX19jb250cm9sbC1idXR0b25fY29sb3ItYmx1ZVwiO1xyXG5leHBvcnQgY29uc3Qgc2Vjb25kU3RlcFN5bWJvbENsYXNzTmFtZSA9IFwiY29udHJvbGwtYnV0dG9uc19fY29udHJvbGwtYnV0dG9uX2NvbG9yLXJlZFwiO1xyXG5leHBvcnQgY29uc3QgZmllbGRJZE5hbWUgPSBcImZpZWxkXCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZFJvd1RhZ05hbWUgPSBcImRpdlwiO1xyXG5leHBvcnQgY29uc3QgZmllbGRDZWxsVGFnTmFtZSA9IFwiZGl2XCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZENlbGxzQ2xhc3NOYW1lID0gXCJmaWVsZF9fY2VsbFwiO1xyXG5leHBvcnQgY29uc3QgZmllbGRDZWxsSWROYW1lID0gXCJjZWxsXCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZFJvd0lkQW5kQ2xhc3NOYW1lID0gXCJmaWVsZF9fcm93XCI7XHJcbmV4cG9ydCBjb25zdCBjZWxsQ2xhc3NOYW1lID0gXCJmaWVsZF9fY2VsbFwiO1xyXG5leHBvcnQgY29uc3QgY2VsbElkTmFtZSA9IFwiY2VsbFwiO1xyXG5leHBvcnQgY29uc3QgZmllbGROYW1lT2ZDdXJyZW50R2FtZU1vZGUgPSBcImdhbWVNb2RlXCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZE5hbWVPZkNlbGxzRm9yV2luID0gXCJmaWVsZE5hbWVPZkNlbGxzRm9yV2luXCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZE5hbWVPZkdhbWVmaWVsZFNpemUgPSBcImZpZWxkU2l6ZVwiO1xyXG5leHBvcnQgY29uc3QgZmllbGROYW1lT2ZDdXJyZW50U3ltYm9sID0gXCJjdXJyZW50U3ltYm9sXCI7XHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2VsbHNGb3JXaW4gPSAzO1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbElzR2FtZVZzQ29tcHV0ZXIgPSBmYWxzZTtcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxmaWVsZFNpemUgPSAzO1xyXG5leHBvcnQgY29uc3QgaGVhZGluZ01lc3NhZ2VJZE5hbWUgPSBcIm1lc3NhZ2VIZWFkaW5nXCI7XHJcbmV4cG9ydCBjb25zdCByZWZyZXNoQnV0dG9uSWROYW1lID0gXCJyZWZyZXNoQnV0dG9uXCI7XHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJWc1BsYXllckJ1dHRvbklkTmFtZSA9IFwicGxheWVyVnNQbGF5ZXJCdXR0b25cIjtcclxuZXhwb3J0IGNvbnN0IHBsYXllclZzQ29tcHV0ZXJCdXR0b25JZE5hbWUgPSBcInBsYXllclZzQ29tcHV0ZXJCdXR0b25cIjtcclxuZXhwb3J0IGNvbnN0IGZpZWxkU2l6ZVNlbGVjdElkTmFtZSA9IFwiZmllbGRTaXplU2VsZWN0XCI7XHJcbmV4cG9ydCBjb25zdCBmaWVsZENlbGxzU2l6ZUZvcldpblNlbGVjdElkTmFtZSA9IFwiZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3RcIjtcclxuZXhwb3J0IGNvbnN0IGdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbklkTmFtZSA9IFwiZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uXCI7XHJcbmV4cG9ydCBjb25zdCBoaW50SGVhZGluZ0lkTmFtZSA9IFwiaGludEhlYWRpbmdcIjtcclxuZXhwb3J0IGNvbnN0IGhpbnRIZWFkaW5nRGlzYWJsZUNsYXNzTmFtZSA9IFwiaGludC1jb250YWluZXJfX2hlYWRpbmdfZGlzYWJsZVwiO1xyXG5leHBvcnQgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlZnJlc2hCdXR0b25JZE5hbWUpO1xyXG5leHBvcnQgY29uc3QgcGxheWVyVnNQbGF5ZXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwbGF5ZXJWc1BsYXllckJ1dHRvbklkTmFtZSk7XHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJWc0NvbXB1dGVyQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheWVyVnNDb21wdXRlckJ1dHRvbklkTmFtZSk7XHJcbmV4cG9ydCBjb25zdCBmaWVsZFNpemVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWVsZFNpemVTZWxlY3RJZE5hbWUpO1xyXG5leHBvcnQgY29uc3QgSHRtbEdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbklkTmFtZSk7XHJcbmV4cG9ydCBjb25zdCBjZWxsRm9yV2luU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3RJZE5hbWUpO1xyXG5leHBvcnQgY29uc3QgaHRtbEhpbnRIZWFkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGludEhlYWRpbmdJZE5hbWUpO1xyXG5leHBvcnQgY29uc3QgZGlzYWJsZUJ1dHRvbkNsYXNzTmFtZSA9IFwiY29udHJvbGwtYnV0dG9uc19fY29udHJvbGwtYnV0dG9uX2Rpc2FibGVkXCI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgR2FtZUluaXRpYWxpemF0aW9uQnV0dG9uIGZyb20gXCIuL2NsYXNzZXMvZ2FtZS1pbml0aWFsaXphdGlvbi1idXR0b24tY2xhc3NcIjtcclxuaW1wb3J0IFRpY1RhY1RvZUdhbWUgZnJvbSBcIi4vY2xhc3Nlcy90aWMtdGFjLXRvZS1jbGFzc1wiO1xyXG5pbXBvcnQgeyBmaWVsZENlbGxJZE5hbWUsIGRpc2FibGVCdXR0b25DbGFzc05hbWUsIGhpbnRIZWFkaW5nRGlzYWJsZUNsYXNzTmFtZSwgcmVmcmVzaEJ1dHRvbiwgcGxheWVyVnNQbGF5ZXJCdXR0b24sIHBsYXllclZzQ29tcHV0ZXJCdXR0b24sIGZpZWxkU2l6ZVNlbGVjdCwgY2VsbEZvcldpblNlbGVjdCwgSHRtbEdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbiwgaHRtbEhpbnRIZWFkaW5nIH0gZnJvbSBcIi4vY29uc3RhbnRzL2NvbnN0YW50c1wiO1xyXG5jb25zdCB0aWNUYWNUb2VHYW1lID0gbmV3IFRpY1RhY1RvZUdhbWUoKTtcclxuY29uc3QgZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uID0gbmV3IEdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbigpO1xyXG5IdG1sR2FtZUluaXRpYWxpemF0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbkNsaWNrKTtcclxucmVmcmVzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25SZWZyZXNoQ2xpY2spO1xyXG5wbGF5ZXJWc1BsYXllckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgb25QbGF5ZXJWc1BsYXllckJ1dHRvbkNsaWNrKCk7XHJcbn0pO1xyXG5wbGF5ZXJWc0NvbXB1dGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBvblBsYXllclZzQ29tcHV0ZXJCdXR0b25DbGljaygpO1xyXG59KTtcclxuZmllbGRTaXplU2VsZWN0Lm9uY2hhbmdlID0gb25GaWVsZFNpemVTZWxlY3RDaGFuZ2U7XHJcbmNlbGxGb3JXaW5TZWxlY3Qub25jaGFuZ2UgPSBvbkNlbGxTaXplRm9yV2luQ2hhbmdlO1xyXG5leHBvcnQgZnVuY3Rpb24gb25DZWxsQ2xpY2soZXZlbnQpIHtcclxuICAgIGNvbnN0IGNsaWNrZWRDZWxsSWQgPSBwYXJzZUludChnZXRDZWxsSWRGcm9tSWROYW1lKGV2ZW50LnRhcmdldC5pZCkpO1xyXG4gICAgaWYgKCF0aWNUYWNUb2VHYW1lLmlzUGxheWVyQ2FuU3RlcFRvQ2hvc2VuQ2VsbChjbGlja2VkQ2VsbElkKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRpY1RhY1RvZUdhbWUubWFrZVN0ZXAoY2xpY2tlZENlbGxJZCk7XHJcbiAgICBpZiAoIXRpY1RhY1RvZUdhbWUuaXNDb21wdXRlckNhblN0ZXAoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRpY1RhY1RvZUdhbWUubWFrZUNvbXB1dGVyU3RlcCgpO1xyXG59XHJcbmZ1bmN0aW9uIG9uR2FtZUluaXRpYWxpemF0aW9uQnV0dG9uQ2xpY2soZXZlbnQpIHtcclxuICAgIGlmICghZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uLmlzQ2xpY2tlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbi5pc0NsaWNrZWQgPSBmYWxzZTtcclxuICAgIHRpY1RhY1RvZUdhbWUudG9nZ2xlSXNHYW1lU3RhcnRzKCk7XHJcbiAgICBpZiAoIXRpY1RhY1RvZUdhbWUuZ2FtZVN0b3JhZ2UuaXNPbmVPZkZpZWxkVW5kZWZpbmVkKCkpIHtcclxuICAgICAgICB0aWNUYWNUb2VHYW1lLnNldEdhbWVEYXRhRnJvbUxvY2FsU3RvcnJhZ2UoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRpY1RhY1RvZUdhbWUuZ2FtZVN0b3JhZ2Uuc2V0RGVmYXVsdERhdGEoKTtcclxuICAgIH1cclxuICAgIDtcclxuICAgIGh0bWxIaW50SGVhZGluZy5jbGFzc0xpc3QuYWRkKGhpbnRIZWFkaW5nRGlzYWJsZUNsYXNzTmFtZSk7XHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZChkaXNhYmxlQnV0dG9uQ2xhc3NOYW1lKTtcclxuICAgIHJlZnJlc2hCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShkaXNhYmxlQnV0dG9uQ2xhc3NOYW1lKTtcclxufVxyXG5mdW5jdGlvbiBvblJlZnJlc2hDbGljaygpIHtcclxuICAgIGlmICghZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uLmlzQ2xpY2tlZCkge1xyXG4gICAgICAgIHRpY1RhY1RvZUdhbWUucmVmcmVzaEdhbWUoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb25QbGF5ZXJWc1BsYXllckJ1dHRvbkNsaWNrKHJlZnJlc2hGaWVsZHMgPSB0cnVlKSB7XHJcbiAgICBpZiAoIXRpY1RhY1RvZUdhbWUuZ2FtZU1vZGUuaXNQbGF5ZXJWc1BsYXllckdhbWVNb2RlKCkgfHwgZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uLmlzQ2xpY2tlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChyZWZyZXNoRmllbGRzKSB7XHJcbiAgICAgICAgdGljVGFjVG9lR2FtZS5yZWZyZXNoR2FtZSgpO1xyXG4gICAgfVxyXG4gICAgdGljVGFjVG9lR2FtZS5nYW1lTW9kZS5pc0dhbWVWc0NvbXB1dGVyID0gZmFsc2U7XHJcbiAgICB0aWNUYWNUb2VHYW1lLmdhbWVTdG9yYWdlLnNldElzR2FtZVZzQ29tcHV0ZXIoZmFsc2UpO1xyXG4gICAgcGxheWVyVnNQbGF5ZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShkaXNhYmxlQnV0dG9uQ2xhc3NOYW1lKTtcclxuICAgIHBsYXllclZzQ29tcHV0ZXJCdXR0b24uY2xhc3NMaXN0LmFkZChkaXNhYmxlQnV0dG9uQ2xhc3NOYW1lKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb25QbGF5ZXJWc0NvbXB1dGVyQnV0dG9uQ2xpY2socmVmcmVzaEZpZWxkcyA9IHRydWUpIHtcclxuICAgIGlmICghdGljVGFjVG9lR2FtZS5nYW1lTW9kZS5pc1BsYXllclZzQ29tcHV0ZXJHYW1lTW9kZSgpIHx8IGdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbi5pc0NsaWNrZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAocmVmcmVzaEZpZWxkcykge1xyXG4gICAgICAgIHRpY1RhY1RvZUdhbWUucmVmcmVzaEdhbWUoKTtcclxuICAgIH1cclxuICAgIHRpY1RhY1RvZUdhbWUuZ2FtZU1vZGUuaXNHYW1lVnNDb21wdXRlciA9IHRydWU7XHJcbiAgICB0aWNUYWNUb2VHYW1lLmdhbWVTdG9yYWdlLnNldElzR2FtZVZzQ29tcHV0ZXIodHJ1ZSk7XHJcbiAgICBwbGF5ZXJWc0NvbXB1dGVyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoZGlzYWJsZUJ1dHRvbkNsYXNzTmFtZSk7XHJcbiAgICBwbGF5ZXJWc1BsYXllckJ1dHRvbi5jbGFzc0xpc3QuYWRkKGRpc2FibGVCdXR0b25DbGFzc05hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIG9uRmllbGRTaXplU2VsZWN0Q2hhbmdlKGV2ZW50KSB7XHJcbiAgICBjb25zdCBuZXdGaWVsZFNpemUgPSBwYXJzZUludChldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgaWYgKG5ld0ZpZWxkU2l6ZSA8IDMgfHwgbmV3RmllbGRTaXplID4gMTAwKSB7XHJcbiAgICAgICAgd2luZG93LmFsZXJ0KFwiTXVzdCBiZSBpbiByYW5nZSgzLCAxMDApXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uLmlzQ2xpY2tlZCkge1xyXG4gICAgICAgIHRpY1RhY1RvZUdhbWUucmVmcmVzaEdhbWUoKTtcclxuICAgIH1cclxuICAgIHRpY1RhY1RvZUdhbWUuZ2FtZVN0b3JhZ2Uuc2V0RmllbGRTaXplKG5ld0ZpZWxkU2l6ZSk7XHJcbiAgICB0aWNUYWNUb2VHYW1lLmdhbWVGaWVsZC5nZW5lcmF0ZUZpZWxkKG5ld0ZpZWxkU2l6ZSk7XHJcbiAgICB0aWNUYWNUb2VHYW1lLmdhbWVTdG9yYWdlLnNldEdhbWVGaWVsZFRvTG9jYWxTdG9ycmFnZSh0aWNUYWNUb2VHYW1lLmdhbWVGaWVsZC5maWVsZC50b1N0cmluZygpKTtcclxuICAgIHRpY1RhY1RvZUdhbWUuaHRtbEdhbWVGaWVsZC5nZW5lcmF0ZUZpZWxkKG5ld0ZpZWxkU2l6ZSk7XHJcbn1cclxuZnVuY3Rpb24gb25DZWxsU2l6ZUZvcldpbkNoYW5nZShldmVudCkge1xyXG4gICAgY29uc3QgbmV3Q2VsbFNpemVGb3JXaW4gPSBwYXJzZUludChldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgaWYgKG5ld0NlbGxTaXplRm9yV2luIDwgMyB8fCBuZXdDZWxsU2l6ZUZvcldpbiA+IDEwMCkge1xyXG4gICAgICAgIHdpbmRvdy5hbGVydChcIk11c3QgYmUgaW4gcmFuZ2UoMywgMTAwKVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAobmV3Q2VsbFNpemVGb3JXaW4gPiB0aWNUYWNUb2VHYW1lLmdhbWVGaWVsZC5nZXRGaWVsZFNpemUoKSkge1xyXG4gICAgICAgIHdpbmRvdy5hbGVydChcIk11c3QgYmUgbGVzcyB0aGVuIGZpZWxkIHNpemVcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGljVGFjVG9lR2FtZS5nYW1lRmllbGQuc2V0TGVuZ2h0Rm9yV2luKG5ld0NlbGxTaXplRm9yV2luKTtcclxuICAgIHRpY1RhY1RvZUdhbWUuZ2FtZVN0b3JhZ2Uuc2V0Q2VsbHNRdWFudGl0eUZvcldpbihuZXdDZWxsU2l6ZUZvcldpbik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q2VsbElkRnJvbUlkTmFtZShjZWxsSWQpIHtcclxuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gZmllbGRDZWxsSWROYW1lLmxlbmd0aDtcclxuICAgIGNvbnN0IGNsaWNrZWRDZWxsSWRTdHJpbmcgPSBjZWxsSWQudG9TdHJpbmcoKS5zbGljZShzZXBhcmF0b3JJbmRleCk7XHJcbiAgICByZXR1cm4gY2xpY2tlZENlbGxJZFN0cmluZztcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGZpZWxkU2l6ZSwgZmllbGRJZE5hbWUsIGZpZWxkU2l6ZVNlbGVjdElkTmFtZSwgZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3RJZE5hbWUgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgR2FtZVN5bWJvbHMgZnJvbSBcIi4vZ2FtZS1zeW1ib2xzLWNsYXNzXCI7XHJcbmltcG9ydCBfZ2FtZU1vZGUgZnJvbSBcIi4vZ2FtZS1tb2RlLWNsYXNzXCI7XHJcbmltcG9ydCBHYW1lTG9jYWxTdG9yYWdlIGZyb20gXCIuL2dhbWUtbG9jYWwtc3RvcmFnZS1jbGFzc1wiO1xyXG5pbXBvcnQgSHRtbENlbGxzRmllbGQgZnJvbSBcIi4vaHRtbC1nYW1lLWZpZWxkLWNsYXNzXCI7XHJcbmltcG9ydCBDZWxsc0ZpZWxkIGZyb20gXCIuL2dhbWUtZmllbGQtY2xhc3NcIjtcclxuaW1wb3J0IHsgb25QbGF5ZXJWc0NvbXB1dGVyQnV0dG9uQ2xpY2sgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmNsYXNzIFRpY1RhY1RvZUdhbWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZE5hbWUgPSBmaWVsZElkTmFtZTtcclxuICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkID0gbmV3IENlbGxzRmllbGQoaW5pdGlhbGZpZWxkU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5odG1sR2FtZUZpZWxkID0gbmV3IEh0bWxDZWxsc0ZpZWxkKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU3ltYm9scyA9IG5ldyBHYW1lU3ltYm9scygpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVNb2RlID0gbmV3IF9nYW1lTW9kZSgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0b3JhZ2UgPSBuZXcgR2FtZUxvY2FsU3RvcmFnZSgpO1xyXG4gICAgfVxyXG4gICAgcmVmcmVzaEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRmllbGQucmVmcmVzaCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0b3JhZ2UucmVmcmVzaCgpO1xyXG4gICAgICAgIHRoaXMuaHRtbEdhbWVGaWVsZC5yZWZyZXNoSGVhZGluZ01lc3NhZ2UoKTtcclxuICAgICAgICB0aGlzLmh0bWxHYW1lRmllbGQucmVmcmVzaEh0bmxDZWxscygpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN5bWJvbHMucmVmcmVzaCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0dhbWVTdGFydHMpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVJc0dhbWVTdGFydHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgZ2FtZU1vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVNb2RlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGdhbWVTZW1ib2xzUmVmcmVzaCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lU3ltYm9scy5yZWZyZXNoO1xyXG4gICAgfVxyXG4gICAgZ2V0R2FtZUVuZE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUZpZWxkLmlzV2luQ29tYmluYXRpb24odGhpcy5nYW1lU3ltYm9scy5jdXJyZW50U3RlcFN5bWJvbCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVJc0dhbWVTdGFydHMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuZ2FtZVN5bWJvbHMuY3VycmVudFN0ZXBTeW1ib2x9IHdpbnNgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nYW1lRmllbGQuaXNBbGxDZWxsc1Rha2VuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVJc0dhbWVTdGFydHMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRHJhd1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICAgIHNldEdhbWVEYXRhRnJvbUxvY2FsU3RvcnJhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGRGcm9tTG9jYWxTdG9yYWdlID0gdGhpcy5nYW1lU3RvcmFnZS5nZXRGaWVsZCgpO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkU2l6ZSA9IHRoaXMuZ2FtZVN0b3JhZ2UuZ2V0ZmllbGRTaXplKCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFN0ZXBTeW1ib2wgPSB0aGlzLmdhbWVTdG9yYWdlLmdldEN1cnJlbnRTdGVwU3ltYm9sKCk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudGxlbmdodEZvcldpbiA9IHRoaXMuZ2FtZVN0b3JhZ2UuZ2V0Q2VsbHNRdWFudGl0eUZvcldpbigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkLmdlbmVyYXRlRmllbGQoZmllbGRTaXplKTtcclxuICAgICAgICB0aGlzLmh0bWxHYW1lRmllbGQuZ2VuZXJhdGVGaWVsZChmaWVsZFNpemUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkLnNldExlbmdodEZvcldpbihjdXJyZW50bGVuZ2h0Rm9yV2luKTtcclxuICAgICAgICB0aGlzLnNldF9nYW1lTW9kZUZyb21Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLnNldFN5bWJvbHNGcm9tTG9jYWxTdG9yYWdlT25GaWVsZHMoZmllbGRGcm9tTG9jYWxTdG9yYWdlKTtcclxuICAgICAgICB0aGlzLnNldEdhbWVIZWFkaW5nTWVzc2FnZUZyb21Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLmdhbWVTeW1ib2xzLmN1cnJlbnRTdGVwU3ltYm9sID0gY3VycmVudFN0ZXBTeW1ib2w7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlc0Zyb21Mb2NhbFN0b3JyYWdlKGZpZWxkU2l6ZS50b1N0cmluZygpLCBjdXJyZW50bGVuZ2h0Rm9yV2luLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gICAgc2V0U3ltYm9sc0Zyb21Mb2NhbFN0b3JhZ2VPbkZpZWxkcyhmaWVsZEZyb21Mb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICBmaWVsZEZyb21Mb2NhbFN0b3JhZ2UuZm9yRWFjaCgoY3VycmVudENlbGwsIGNlbGxJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5zZXRTeW1ib2xUb1NlbGVjdGVkRmllbGRDZWxsKGN1cnJlbnRDZWxsLCBjZWxsSW5kZXgpO1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxHYW1lRmllbGQuc2V0U3ltYm9sVG9TZWxjdGVkSHRtbENlbGwoY3VycmVudENlbGwsIGNlbGxJbmRleCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXRfZ2FtZU1vZGVGcm9tTG9jYWxTdG9yYWdlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTdG9yYWdlLmdldElzR2FtZVZzQ29tcHV0ZXIoKSA9PT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgb25QbGF5ZXJWc0NvbXB1dGVyQnV0dG9uQ2xpY2soZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEdhbWVIZWFkaW5nTWVzc2FnZUZyb21Mb2NhbFN0b3JhZ2UoKSB7XHJcbiAgICAgICAgaWYgKCh0aGlzLmdldEdhbWVFbmRNZXNzYWdlKCkgPT09IFwiXCIpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SGVhZGluZ01lc3NhZ2UgPSB0aGlzLmdldEdhbWVFbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaHRtbEdhbWVGaWVsZC5zZXRIZWFkaW5nSW5uZXJIdG1sKGN1cnJlbnRIZWFkaW5nTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlSXNHYW1lU3RhcnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0SW5wdXRWYWx1ZXNGcm9tTG9jYWxTdG9ycmFnZShmaWVsZFNpemUsIGN1cnJlbnRsZW5naHRGb3JXaW4pIHtcclxuICAgICAgICBjb25zdCBmaWVsZFNpemVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWVsZFNpemVTZWxlY3RJZE5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkQ2VsbHNTaXplRm9yV2luU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3RJZE5hbWUpO1xyXG4gICAgICAgIGZpZWxkU2l6ZVNlbGVjdC52YWx1ZSA9IGZpZWxkU2l6ZTtcclxuICAgICAgICBmaWVsZENlbGxzU2l6ZUZvcldpblNlbGVjdC52YWx1ZSA9IGN1cnJlbnRsZW5naHRGb3JXaW47XHJcbiAgICB9XHJcbiAgICB0b2dnbGVJc0dhbWVTdGFydHMoKSB7XHJcbiAgICAgICAgdGhpcy5pc0dhbWVTdGFydHMgPSAhdGhpcy5pc0dhbWVTdGFydHM7XHJcbiAgICB9XHJcbiAgICBpc1BsYXllckNhblN0ZXBUb0Nob3NlbkNlbGwoY2xpY2tlZENlbGxJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVGaWVsZC5pc0NlbGxFbXB0eShjbGlja2VkQ2VsbElkKSAmJiB0aGlzLmlzR2FtZVN0YXJ0cztcclxuICAgIH1cclxuICAgIGlzQ29tcHV0ZXJDYW5TdGVwKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5fZ2FtZU1vZGUuaXNHYW1lVnNDb21wdXRlclxyXG4gICAgICAgICAgICAmJiAhdGhpcy5nYW1lRmllbGQuaXNBbGxDZWxsc1Rha2VuKClcclxuICAgICAgICAgICAgJiYgdGhpcy5pc0dhbWVTdGFydHMpO1xyXG4gICAgfVxyXG4gICAgbWFrZVN0ZXAoY2xpY2tlZENlbGxJZCkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwU3ltYm9sID0gdGhpcy5nYW1lU3ltYm9scy5jdXJyZW50U3RlcFN5bWJvbDtcclxuICAgICAgICB0aGlzLmdhbWVGaWVsZC5zZXRTeW1ib2xUb1NlbGVjdGVkRmllbGRDZWxsKGN1cnJlbnRTdGVwU3ltYm9sLCBjbGlja2VkQ2VsbElkKTtcclxuICAgICAgICB0aGlzLmh0bWxHYW1lRmllbGQuc2V0U3ltYm9sVG9TZWxjdGVkSHRtbENlbGwoY3VycmVudFN0ZXBTeW1ib2wsIGNsaWNrZWRDZWxsSWQpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0b3JhZ2Uuc2V0R2FtZUZpZWxkVG9Mb2NhbFN0b3JyYWdlKHRoaXMuZ2FtZUZpZWxkLmZpZWxkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRIZWFkaW5nTWVzc2FnZSA9IHRoaXMuZ2V0R2FtZUVuZE1lc3NhZ2UoKTtcclxuICAgICAgICB0aGlzLmh0bWxHYW1lRmllbGQuc2V0SGVhZGluZ0lubmVySHRtbChjdXJyZW50SGVhZGluZ01lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVN5bWJvbHMudG9nZ2xlQ3VycmVudFN0ZXBTeW1ib2woKTtcclxuICAgICAgICB0aGlzLmdhbWVTdG9yYWdlLnNldEN1cnJlbnRTdGVwU3ltYm9sKHRoaXMuZ2FtZVN5bWJvbHMuY3VycmVudFN0ZXBTeW1ib2wpO1xyXG4gICAgfVxyXG4gICAgbWFrZUNvbXB1dGVyU3RlcCgpIHtcclxuICAgICAgICBjb25zdCBjZWxsSWRGb3JDb21wdXRlclN0ZXAgPSB0aGlzLmdhbWVGaWVsZC5nZXRSYW5kb21DZWxsSWRGb3JDb21wdXRlclN0ZXAoKTtcclxuICAgICAgICB0aGlzLm1ha2VTdGVwKGNlbGxJZEZvckNvbXB1dGVyU3RlcCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgVGljVGFjVG9lR2FtZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCB7IGluaXRpYWxDZWxsc0ZvcldpbiB9IGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RhbnRzXCI7XHJcbmNsYXNzIENlbGxzRmllbGQge1xyXG4gICAgY29uc3RydWN0b3IoZmllbGRTaXplKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZDtcclxuICAgICAgICB0aGlzLmZpZWxkU2l6ZSA9IGZpZWxkU2l6ZTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlRmllbGQoZmllbGRTaXplKTtcclxuICAgICAgICB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzID0gdGhpcy5nZW5lcmF0ZUZpZWxkV2l0aFJvd0FuZENvbHMoKTtcclxuICAgICAgICB0aGlzLmxlbmdodEZvcldpbiA9IGluaXRpYWxDZWxsc0ZvcldpbjtcclxuICAgIH1cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZC5maWxsKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgZ2V0UmFuZG9tQ2VsbElkRm9yQ29tcHV0ZXJTdGVwKCkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUNlbGxJZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZmllbGQubGVuZ3RoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDZWxsRW1wdHkocmFuZG9tQ2VsbElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmRvbUNlbGxJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldExlbmdodEZvcldpbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sZW5naHRGb3JXaW47XHJcbiAgICB9XHJcbiAgICBnZXRGaWVsZFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRTaXplO1xyXG4gICAgfVxyXG4gICAgc2V0U3ltYm9sVG9TZWxlY3RlZEZpZWxkQ2VsbChjdXJyZW50U3RlcFN5bWJvbCwgc2VsZWN0ZWRDZWxsTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZFtzZWxlY3RlZENlbGxOdW1iZXJdID0gY3VycmVudFN0ZXBTeW1ib2w7XHJcbiAgICB9XHJcbiAgICBzZXRMZW5naHRGb3JXaW4obmV3bGVuZ2h0Rm9yV2luKSB7XHJcbiAgICAgICAgdGhpcy5sZW5naHRGb3JXaW4gPSBuZXdsZW5naHRGb3JXaW47XHJcbiAgICB9XHJcbiAgICBpc0NlbGxFbXB0eShjZWxsSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWVsZFtjZWxsSW5kZXhdID09PSBcIlwiO1xyXG4gICAgfVxyXG4gICAgaXNBbGxDZWxsc1Rha2VuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkLmV2ZXJ5KChjZWxsKSA9PiBjZWxsICE9PSBcIlwiKTtcclxuICAgIH1cclxuICAgIGlzQ2VsbEV4aXN0c09uRmllbGQoZmlyc3RJbmRleCwgc2Vjb25kSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHNbZmlyc3RJbmRleF0gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAmJiB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzW2ZpcnN0SW5kZXhdW3NlY29uZEluZGV4XSAhPT0gdW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIGlzV2luQ29tYmluYXRpb24oY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHMgPSB0aGlzLmdlbmVyYXRlRmllbGRXaXRoUm93QW5kQ29scygpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzV2luT25Sb3coY3VycmVudFN5bWJvbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzV2luT25Db2x1bW4oY3VycmVudFN5bWJvbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzV2luT25NYWluRGlhZ29uYWwoY3VycmVudFN5bWJvbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzV2luT25TZWNvbmRhcnlEaWFnb25hbChjdXJyZW50U3ltYm9sKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaXNXaW5PblJvdyhjdXJyZW50U3ltYm9sKSB7XHJcbiAgICAgICAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHMubGVuZ3RoOyByb3dJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50U3RyaWNrID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29sdW1uSW5kZXggPSAwOyBjb2x1bW5JbmRleCA8IHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHNbcm93SW5kZXhdLmxlbmd0aDsgY29sdW1uSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHNbcm93SW5kZXhdW2NvbHVtbkluZGV4XSA9PT0gY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpY2srKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpY2sgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdHJpY2sgPT09IHRoaXMubGVuZ2h0Rm9yV2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc1dpbk9uQ29sdW1uKGN1cnJlbnRTeW1ib2wpIHtcclxuICAgICAgICBmb3IgKGxldCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgdGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29scy5sZW5ndGg7IHJvd0luZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTdHJpY2sgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW5JbmRleCA9IDA7IGNvbHVtbkluZGV4IDwgdGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29sc1tyb3dJbmRleF0ubGVuZ3RoOyBjb2x1bW5JbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29sc1tjb2x1bW5JbmRleF1bcm93SW5kZXhdID09PSBjdXJyZW50U3ltYm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0cmljaysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0cmljayA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0cmljayA9PT0gdGhpcy5sZW5naHRGb3JXaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzV2luT25NYWluRGlhZ29uYWwoY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzLmxlbmd0aDsgcm93SW5kZXgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW5JbmRleCA9IDA7IGNvbHVtbkluZGV4IDwgdGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29sc1tyb3dJbmRleF0ubGVuZ3RoOyBjb2x1bW5JbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFN0cmljayA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleERlbHRhID0gMDsgaW5kZXhEZWx0YSA8IHRoaXMubGVuZ2h0Rm9yV2luICsgMTsgaW5kZXhEZWx0YSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93U2hpZnRlZEluZGV4ID0gcm93SW5kZXggKyBpbmRleERlbHRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtblNoaWZ0ZWRJbmRleCA9IGNvbHVtbkluZGV4ICsgaW5kZXhEZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NlbGxFeGlzdHNPbkZpZWxkKHJvd1NoaWZ0ZWRJbmRleCwgY29sdW1uU2hpZnRlZEluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzW3Jvd1NoaWZ0ZWRJbmRleF1bY29sdW1uU2hpZnRlZEluZGV4XSA9PT0gY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaWNrKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyaWNrID09PSB0aGlzLmxlbmdodEZvcldpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc1dpbk9uU2Vjb25kYXJ5RGlhZ29uYWwoY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzLmxlbmd0aDsgcm93SW5kZXgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb2x1bW5JbmRleCA9IDA7IGNvbHVtbkluZGV4IDwgdGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29sc1tyb3dJbmRleF0ubGVuZ3RoOyBjb2x1bW5JbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFN0cmljayA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleERlbHRhID0gMDsgaW5kZXhEZWx0YSA8IHRoaXMubGVuZ2h0Rm9yV2luICsgMTsgaW5kZXhEZWx0YSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93U2hpZnRlZEluZGV4ID0gcm93SW5kZXggKyBpbmRleERlbHRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtblNoaWZ0ZWRJbmRleCA9IGNvbHVtbkluZGV4IC0gaW5kZXhEZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NlbGxFeGlzdHNPbkZpZWxkKGNvbHVtblNoaWZ0ZWRJbmRleCwgcm93U2hpZnRlZEluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzW2NvbHVtblNoaWZ0ZWRJbmRleF1bcm93U2hpZnRlZEluZGV4XSA9PT0gY3VycmVudFN5bWJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaWNrKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyaWNrID09PSB0aGlzLmxlbmdodEZvcldpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUZpZWxkKGZpZWxkU2l6ZSkge1xyXG4gICAgICAgIHRoaXMuZmllbGQgPSBuZXcgQXJyYXkoZmllbGRTaXplICogZmllbGRTaXplKS5maWxsKFwiXCIpO1xyXG4gICAgICAgIHRoaXMuZmllbGRTaXplID0gZmllbGRTaXplO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVGaWVsZFdpdGhSb3dBbmRDb2xzKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkV2l0aFJvd0FuZENvbHMgPSBbXTtcclxuICAgICAgICBjb25zdCByb3dMaW1pdHMgPSBbMCwgdGhpcy5maWVsZFNpemVdO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmZpZWxkU2l6ZTsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWVsZFdpdGhSb3dBbmRDb2xzLnB1c2goWy4uLnRoaXMuZmllbGQuc2xpY2Uocm93TGltaXRzWzBdLCByb3dMaW1pdHNbMV0pXSk7XHJcbiAgICAgICAgICAgIHJvd0xpbWl0c1swXSArPSB0aGlzLmZpZWxkU2l6ZTtcclxuICAgICAgICAgICAgcm93TGltaXRzWzFdICs9IHRoaXMuZmllbGRTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lRmllbGRXaXRoUm93QW5kQ29scztcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBDZWxsc0ZpZWxkO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IHsgZmlyc3RTdGVwU3ltYm9sLCBmaXJzdFN0ZXBTeW1ib2xDbGFzc05hbWUsIHNlY29uZFN0ZXBTeW1ib2xDbGFzc05hbWUsIHNlY29uZFN0ZXBTeW1ib2wsIGZpZWxkUm93SWRBbmRDbGFzc05hbWUsIGZpZWxkUm93VGFnTmFtZSwgZmllbGRDZWxsVGFnTmFtZSwgY2VsbElkTmFtZSwgY2VsbENsYXNzTmFtZSwgZmllbGRJZE5hbWUsIGluaXRpYWxmaWVsZFNpemUsIGhlYWRpbmdNZXNzYWdlSWROYW1lIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgb25DZWxsQ2xpY2sgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmNsYXNzIEh0bWxDZWxsc0ZpZWxkIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZmlyc3RTdGVwU3ltYm9sID0gZmlyc3RTdGVwU3ltYm9sO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kU3RlcFN5bWJvbCA9IHNlY29uZFN0ZXBTeW1ib2w7XHJcbiAgICAgICAgdGhpcy5maXJzdFN0ZXBTeW1ib2xDbGFzc05hbWUgPSBmaXJzdFN0ZXBTeW1ib2xDbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5zZWNvbmRTdGVwU3ltYm9sQ2xhc3NOYW1lID0gc2Vjb25kU3RlcFN5bWJvbENsYXNzTmFtZTtcclxuICAgICAgICB0aGlzLmNlbGxUYWdOYW1lID0gZmllbGRDZWxsVGFnTmFtZTtcclxuICAgICAgICB0aGlzLmNlbGxJZE5hbWUgPSBjZWxsSWROYW1lO1xyXG4gICAgICAgIHRoaXMuY2VsbENsYXNzTmFtZSA9IGNlbGxDbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5yb3dJZEFuZENsYXNzTmFtZSA9IGZpZWxkUm93SWRBbmRDbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5yb3dUYWdOYW1lID0gZmllbGRSb3dUYWdOYW1lO1xyXG4gICAgICAgIHRoaXMuZmllbGRJZE5hbWUgPSBmaWVsZElkTmFtZTtcclxuICAgICAgICB0aGlzLmdlbmVyYXRlRmllbGQoaW5pdGlhbGZpZWxkU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5odG1sTWVzc2FnZUhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWFkaW5nTWVzc2FnZUlkTmFtZSk7XHJcbiAgICAgICAgdGhpcy5hbGxIdG1sQ2VsbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY2VsbENsYXNzTmFtZSk7XHJcbiAgICB9XHJcbiAgICByZWZyZXNoSHRubENlbGxzKCkge1xyXG4gICAgICAgIGZvciAobGV0IGNlbGxJbmRleCA9IDA7IGNlbGxJbmRleCA8IHRoaXMuYWxsSHRtbENlbGxzLmxlbmd0aDsgY2VsbEluZGV4KyspIHtcclxuICAgICAgICAgICAgdGhpcy5hbGxIdG1sQ2VsbHNbY2VsbEluZGV4XS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmFsbEh0bWxDZWxsc1tjZWxsSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5maXJzdFN0ZXBTeW1ib2xDbGFzc05hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmFsbEh0bWxDZWxsc1tjZWxsSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZWNvbmRTdGVwU3ltYm9sQ2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWZyZXNoSGVhZGluZ01lc3NhZ2UoKSB7XHJcbiAgICAgICAgdGhpcy5odG1sTWVzc2FnZUhlYWRpbmcuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB0aGlzLmh0bWxNZXNzYWdlSGVhZGluZy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZmlyc3RTdGVwU3ltYm9sQ2xhc3NOYW1lKTtcclxuICAgICAgICB0aGlzLmh0bWxNZXNzYWdlSGVhZGluZy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2Vjb25kU3RlcFN5bWJvbENsYXNzTmFtZSk7XHJcbiAgICB9XHJcbiAgICBzZXRIZWFkaW5nSW5uZXJIdG1sKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLmh0bWxNZXNzYWdlSGVhZGluZy5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnNsaWNlKDAsIDEpID09PSB0aGlzLmZpcnN0U3RlcFN5bWJvbCkge1xyXG4gICAgICAgICAgICB0aGlzLmh0bWxNZXNzYWdlSGVhZGluZy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2Vjb25kU3RlcFN5bWJvbENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaHRtbE1lc3NhZ2VIZWFkaW5nLmNsYXNzTGlzdC5hZGQodGhpcy5maXJzdFN0ZXBTeW1ib2xDbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLnNsaWNlKDAsIDEpID09PSB0aGlzLnNlY29uZFN0ZXBTeW1ib2wpIHtcclxuICAgICAgICAgICAgdGhpcy5odG1sTWVzc2FnZUhlYWRpbmcuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZpcnN0U3RlcFN5bWJvbENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaHRtbE1lc3NhZ2VIZWFkaW5nLmNsYXNzTGlzdC5hZGQodGhpcy5zZWNvbmRTdGVwU3ltYm9sQ2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRTeW1ib2xUb1NlbGN0ZWRIdG1sQ2VsbChjdXJyZW50U3RlcFN5bWJvbCwgY2VsbElkKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNlbGwke2NlbGxJZH1gKTtcclxuICAgICAgICBzZWxlY3RlZENlbGwuaW5uZXJIVE1MID0gY3VycmVudFN0ZXBTeW1ib2w7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRTdGVwU3ltYm9sID09PSB0aGlzLmZpcnN0U3RlcFN5bWJvbCkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZENlbGwuY2xhc3NMaXN0LmFkZCh0aGlzLmZpcnN0U3RlcFN5bWJvbENsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRTdGVwU3ltYm9sID09PSB0aGlzLnNlY29uZFN0ZXBTeW1ib2wpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRDZWxsLmNsYXNzTGlzdC5hZGQodGhpcy5zZWNvbmRTdGVwU3ltYm9sQ2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUZpZWxkKGZpZWxkU2l6ZSkge1xyXG4gICAgICAgIGxldCBjdXJyZW50Q2VsbElkID0gMDtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZmllbGRJZE5hbWUpO1xyXG4gICAgICAgIGZpZWxkLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IGZpZWxkU2l6ZTsgcm93SW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLmdlbmVyYXRlUm93KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbkluZGV4ID0gMDsgY29sdW1uSW5kZXggPCBmaWVsZFNpemU7IGNvbHVtbkluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSB0aGlzLmdlbmVyYXRlQ2VsbChjdXJyZW50Q2VsbElkKTtcclxuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDZWxsSWQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWVsZC5hcHBlbmRDaGlsZChyb3cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdlbmVyYXRlUm93KCkge1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5yb3dUYWdOYW1lKTtcclxuICAgICAgICByb3cuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5yb3dJZEFuZENsYXNzTmFtZSk7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5hZGQodGhpcy5yb3dJZEFuZENsYXNzTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH1cclxuICAgIGdlbmVyYXRlQ2VsbChjZWxsSWQpIHtcclxuICAgICAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmNlbGxUYWdOYW1lKTtcclxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcImlkXCIsIGAke3RoaXMuY2VsbElkTmFtZX0ke2NlbGxJZH1gKTtcclxuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQodGhpcy5jZWxsQ2xhc3NOYW1lKTtcclxuICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DZWxsQ2xpY2spO1xyXG4gICAgICAgIHJldHVybiBjZWxsO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEh0bWxDZWxsc0ZpZWxkO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IHsgZmlyc3RTdGVwU3ltYm9sLCBzZWNvbmRTdGVwU3ltYm9sIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9jb25zdGFudHNcIjtcclxuY2xhc3MgR2FtZVN5bWJvbHMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fZmlyc3RTdGVwU3ltYm9sID0gZmlyc3RTdGVwU3ltYm9sO1xyXG4gICAgICAgIHRoaXMuX3NlY29uZFN0ZXBTeW1ib2wgPSBzZWNvbmRTdGVwU3ltYm9sO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGVwU3ltYm9sID0gdGhpcy5maXJzdFN0ZXBTeW1ib2w7XHJcbiAgICB9XHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGVwU3ltYm9sID0gdGhpcy5fZmlyc3RTdGVwU3ltYm9sO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZpcnN0U3RlcFN5bWJvbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RTdGVwU3ltYm9sO1xyXG4gICAgfVxyXG4gICAgZ2V0IGN1cnJlbnRTdGVwU3ltYm9sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50U3RlcFN5bWJvbDtcclxuICAgIH1cclxuICAgIHNldCBjdXJyZW50U3RlcFN5bWJvbChzdGVwU3ltYm9sKSB7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFN0ZXBTeW1ib2wgPSBzdGVwU3ltYm9sO1xyXG4gICAgfVxyXG4gICAgdG9nZ2xlQ3VycmVudFN0ZXBTeW1ib2woKSB7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFN0ZXBTeW1ib2wgPSB0aGlzLl9jdXJyZW50U3RlcFN5bWJvbCA9PT0gdGhpcy5fc2Vjb25kU3RlcFN5bWJvbFxyXG4gICAgICAgICAgICA/IHRoaXMuX2ZpcnN0U3RlcFN5bWJvbFxyXG4gICAgICAgICAgICA6IHRoaXMuX3NlY29uZFN0ZXBTeW1ib2w7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgR2FtZVN5bWJvbHM7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5jbGFzcyBHYW1lTW9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9pc0dhbWVWc0NvbXB1dGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBnZXQgaXNHYW1lVnNDb21wdXRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNHYW1lVnNDb21wdXRlcjtcclxuICAgIH1cclxuICAgIHNldCBpc0dhbWVWc0NvbXB1dGVyKG5ld0lzR2FtZVZzQ29tcHV0ZXJWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2lzR2FtZVZzQ29tcHV0ZXIgPSBuZXdJc0dhbWVWc0NvbXB1dGVyVmFsdWU7XHJcbiAgICB9XHJcbiAgICBpc1BsYXllclZzUGxheWVyR2FtZU1vZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzR2FtZVZzQ29tcHV0ZXI7XHJcbiAgICB9XHJcbiAgICBpc1BsYXllclZzQ29tcHV0ZXJHYW1lTW9kZSgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuX2lzR2FtZVZzQ29tcHV0ZXI7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgR2FtZU1vZGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgeyBmaWVsZElkTmFtZSwgZmllbGROYW1lT2ZHYW1lZmllbGRTaXplLCBmaWVsZE5hbWVPZkN1cnJlbnRTeW1ib2wsIGZpZWxkTmFtZU9mQ3VycmVudEdhbWVNb2RlLCBmaWVsZE5hbWVPZkNlbGxzRm9yV2luLCBmaXJzdFN0ZXBTeW1ib2wsIGluaXRpYWxmaWVsZFNpemUsIGluaXRpYWxDZWxsc0ZvcldpbiwgaW5pdGlhbElzR2FtZVZzQ29tcHV0ZXIgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50c1wiO1xyXG5jbGFzcyBHYW1lTG9jYWxTdG9yYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZmllbGROYW1lT2ZHYW1lRmllbGQgPSBmaWVsZElkTmFtZTtcclxuICAgICAgICB0aGlzLmZpZWxkTmFtZU9mR2FtZUZpZWxkU2l6ZSA9IGZpZWxkTmFtZU9mR2FtZWZpZWxkU2l6ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTmFtZU9mQ3VycmVudFN5bWJvbCA9IGZpZWxkTmFtZU9mQ3VycmVudFN5bWJvbDtcclxuICAgICAgICB0aGlzLmZpZWxkTmFtZU9mSXNHYW1lVnNDb21wdXRlciA9IGZpZWxkTmFtZU9mQ3VycmVudEdhbWVNb2RlO1xyXG4gICAgICAgIHRoaXMuZmllbGROYW1lT2ZDZWxsc0ZvcldpbiA9IGZpZWxkTmFtZU9mQ2VsbHNGb3JXaW47XHJcbiAgICAgICAgdGhpcy5nYW1lTG9jYWxTdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgIH1cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmdldEZpZWxkKCk7XHJcbiAgICAgICAgZm9yIChsZXQgY2VsbEluZGV4ID0gMDsgY2VsbEluZGV4IDwgZmllbGQubGVuZ3RoOyBjZWxsSW5kZXgrKykge1xyXG4gICAgICAgICAgICBmaWVsZFtjZWxsSW5kZXhdID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coZmllbGQuam9pbihcIixcIikpO1xyXG4gICAgICAgIHRoaXMuc2V0R2FtZUZpZWxkVG9Mb2NhbFN0b3JyYWdlKGZpZWxkLmpvaW4oXCIsXCIpLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lTG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBnZXRmaWVsZFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2FtZUxvY2FsU3RvcmFnZVt0aGlzLmZpZWxkTmFtZU9mR2FtZUZpZWxkU2l6ZV0pO1xyXG4gICAgfVxyXG4gICAgZ2V0RmllbGQoKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGRBcnJheSA9IHRoaXMuZ2FtZUxvY2FsU3RvcmFnZVt0aGlzLmZpZWxkTmFtZU9mR2FtZUZpZWxkXS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgcmV0dXJuIGZpZWxkQXJyYXk7XHJcbiAgICB9XHJcbiAgICBnZXRDdXJyZW50U3RlcFN5bWJvbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTG9jYWxTdG9yYWdlW3RoaXMuZmllbGROYW1lT2ZDdXJyZW50U3ltYm9sXTtcclxuICAgIH1cclxuICAgIGdldElzR2FtZVZzQ29tcHV0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZUxvY2FsU3RvcmFnZVt0aGlzLmZpZWxkTmFtZU9mSXNHYW1lVnNDb21wdXRlcl07XHJcbiAgICB9XHJcbiAgICBnZXRDZWxsc1F1YW50aXR5Rm9yV2luKCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZkNlbGxzRm9yV2luXSk7XHJcbiAgICB9XHJcbiAgICBzZXREZWZhdWx0RGF0YSgpIHtcclxuICAgICAgICB0aGlzLnNldEZpZWxkU2l6ZShpbml0aWFsZmllbGRTaXplKTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnRTdGVwU3ltYm9sKGZpcnN0U3RlcFN5bWJvbCk7XHJcbiAgICAgICAgdGhpcy5zZXRJc0dhbWVWc0NvbXB1dGVyKGluaXRpYWxJc0dhbWVWc0NvbXB1dGVyKTtcclxuICAgICAgICB0aGlzLnNldENlbGxzUXVhbnRpdHlGb3JXaW4oaW5pdGlhbENlbGxzRm9yV2luKTtcclxuICAgIH1cclxuICAgIHNldEZpZWxkU2l6ZShmaWVsZFNpemUpIHtcclxuICAgICAgICB0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZkdhbWVGaWVsZFNpemVdID0gZmllbGRTaXplO1xyXG4gICAgfVxyXG4gICAgc2V0R2FtZUZpZWxkVG9Mb2NhbFN0b3JyYWdlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lTG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5maWVsZE5hbWVPZkdhbWVGaWVsZCwgdmFsdWUudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcbiAgICBzZXRDdXJyZW50U3RlcFN5bWJvbChjdXJyZW50U3ltYm9sKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lTG9jYWxTdG9yYWdlW3RoaXMuZmllbGROYW1lT2ZDdXJyZW50U3ltYm9sXSA9IGN1cnJlbnRTeW1ib2w7XHJcbiAgICB9XHJcbiAgICBzZXRJc0dhbWVWc0NvbXB1dGVyKGN1cnJlbnRHYW1lTW9kZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUxvY2FsU3RvcmFnZVt0aGlzLmZpZWxkTmFtZU9mSXNHYW1lVnNDb21wdXRlcl0gPSBjdXJyZW50R2FtZU1vZGU7XHJcbiAgICB9XHJcbiAgICBzZXRDZWxsc1F1YW50aXR5Rm9yV2luKG5ld0NlbGxTaXplRm9yV2luKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lTG9jYWxTdG9yYWdlW3RoaXMuZmllbGROYW1lT2ZDZWxsc0Zvcldpbl0gPSBuZXdDZWxsU2l6ZUZvcldpbjtcclxuICAgIH1cclxuICAgIGlzT25lT2ZGaWVsZFVuZGVmaW5lZCgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuaXNHYW1lVnNDb21wdXRlclVuZGVmaW5lZCgpXHJcbiAgICAgICAgICAgIHx8IHRoaXMuaXNDdXJyZW50U3RlcFN5bWJvbFVuZGVmaW5lZCgpXHJcbiAgICAgICAgICAgIHx8IHRoaXMuaXNGaWVsZEZyb21Mb2NhbFN0b3JyYWdlRW1wdHkoKVxyXG4gICAgICAgICAgICB8fCB0aGlzLmlzZmllbGRTaXplRnJvbUxvY2FsU3RvcnJhZ2VVbmRlZmluZWQoKVxyXG4gICAgICAgICAgICB8fCB0aGlzLmlzQ2VsbHNGb3JXaW5VbmRlZmluZWQoKSk7XHJcbiAgICB9XHJcbiAgICBpc0dhbWVWc0NvbXB1dGVyVW5kZWZpbmVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZklzR2FtZVZzQ29tcHV0ZXJdID09PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpc0N1cnJlbnRTdGVwU3ltYm9sVW5kZWZpbmVkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUxvY2FsU3RvcmFnZVt0aGlzLmZpZWxkTmFtZU9mQ3VycmVudFN5bWJvbF0gPT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGlzRmllbGRGcm9tTG9jYWxTdG9ycmFnZUVtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZkdhbWVGaWVsZF0gPT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGlzZmllbGRTaXplRnJvbUxvY2FsU3RvcnJhZ2VVbmRlZmluZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZkdhbWVGaWVsZFNpemVdID09PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgfHwgaXNOYU4odGhpcy5nYW1lTG9jYWxTdG9yYWdlW3RoaXMuZmllbGROYW1lT2ZHYW1lRmllbGRTaXplXSkpO1xyXG4gICAgfVxyXG4gICAgaXNDZWxsc0ZvcldpblVuZGVmaW5lZCgpIHtcclxuICAgICAgICB0aGlzLmdhbWVMb2NhbFN0b3JhZ2VbdGhpcy5maWVsZE5hbWVPZkNlbGxzRm9yV2luXSA9PT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEdhbWVMb2NhbFN0b3JhZ2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgeyBnYW1lSW5pdGlhbGl6YXRpb25CdXR0b25JZE5hbWUgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50c1wiO1xyXG5jbGFzcyBHYW1lSW5pdGlhbGl6YXRpb25CdXR0b24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pc0F2YWlsaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5odG1sQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ2FtZUluaXRpYWxpemF0aW9uQnV0dG9uSWROYW1lKTtcclxuICAgIH1cclxuICAgIGdldCBpc0NsaWNrZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBdmFpbGlibGU7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNDbGlja2VkKGlzQXZhaWxpYmxlKSB7XHJcbiAgICAgICAgdGhpcy5pc0F2YWlsaWJsZSA9IGlzQXZhaWxpYmxlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEdhbWVJbml0aWFsaXphdGlvbkJ1dHRvbjtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChjYWNoZWRNb2R1bGUuZXJyb3IgIT09IHVuZGVmaW5lZCkgdGhyb3cgY2FjaGVkTW9kdWxlLmVycm9yO1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHR0cnkge1xuXHRcdHZhciBleGVjT3B0aW9ucyA9IHsgaWQ6IG1vZHVsZUlkLCBtb2R1bGU6IG1vZHVsZSwgZmFjdG9yeTogX193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0sIHJlcXVpcmU6IF9fd2VicGFja19yZXF1aXJlX18gfTtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKSB7IGhhbmRsZXIoZXhlY09wdGlvbnMpOyB9KTtcblx0XHRtb2R1bGUgPSBleGVjT3B0aW9ucy5tb2R1bGU7XG5cdFx0ZXhlY09wdGlvbnMuZmFjdG9yeS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBleGVjT3B0aW9ucy5yZXF1aXJlKTtcblx0fSBjYXRjaChlKSB7XG5cdFx0bW9kdWxlLmVycm9yID0gZTtcblx0XHR0aHJvdyBlO1xuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbl9fd2VicGFja19yZXF1aXJlX18uYyA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfXztcblxuLy8gZXhwb3NlIHRoZSBtb2R1bGUgZXhlY3V0aW9uIGludGVyY2VwdG9yXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBbXTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5odSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIF9fd2VicGFja19yZXF1aXJlX18uaCgpICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckYgPSAoKSA9PiAoXCJtYWluLlwiICsgX193ZWJwYWNrX3JlcXVpcmVfXy5oKCkgKyBcIi5ob3QtdXBkYXRlLmpzb25cIik7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiYzk2NmZjYjQyYTZlMzIyMDY5ZDFcIikiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIGN1cnJlbnRNb2R1bGVEYXRhID0ge307XG52YXIgaW5zdGFsbGVkTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18uYztcblxuLy8gbW9kdWxlIGFuZCByZXF1aXJlIGNyZWF0aW9uXG52YXIgY3VycmVudENoaWxkTW9kdWxlO1xudmFyIGN1cnJlbnRQYXJlbnRzID0gW107XG5cbi8vIHN0YXR1c1xudmFyIHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycyA9IFtdO1xudmFyIGN1cnJlbnRTdGF0dXMgPSBcImlkbGVcIjtcblxuLy8gd2hpbGUgZG93bmxvYWRpbmdcbnZhciBibG9ja2luZ1Byb21pc2VzID0gMDtcbnZhciBibG9ja2luZ1Byb21pc2VzV2FpdGluZyA9IFtdO1xuXG4vLyBUaGUgdXBkYXRlIGluZm9cbnZhciBjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycztcbnZhciBxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXM7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJEID0gY3VycmVudE1vZHVsZURhdGE7XG5cbl9fd2VicGFja19yZXF1aXJlX18uaS5wdXNoKGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdHZhciBtb2R1bGUgPSBvcHRpb25zLm1vZHVsZTtcblx0dmFyIHJlcXVpcmUgPSBjcmVhdGVSZXF1aXJlKG9wdGlvbnMucmVxdWlyZSwgb3B0aW9ucy5pZCk7XG5cdG1vZHVsZS5ob3QgPSBjcmVhdGVNb2R1bGVIb3RPYmplY3Qob3B0aW9ucy5pZCwgbW9kdWxlKTtcblx0bW9kdWxlLnBhcmVudHMgPSBjdXJyZW50UGFyZW50cztcblx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdGN1cnJlbnRQYXJlbnRzID0gW107XG5cdG9wdGlvbnMucmVxdWlyZSA9IHJlcXVpcmU7XG59KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDID0ge307XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkgPSB7fTtcblxuZnVuY3Rpb24gY3JlYXRlUmVxdWlyZShyZXF1aXJlLCBtb2R1bGVJZCkge1xuXHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblx0aWYgKCFtZSkgcmV0dXJuIHJlcXVpcmU7XG5cdHZhciBmbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG5cdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcblx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG5cdFx0XHRcdHZhciBwYXJlbnRzID0gaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzO1xuXHRcdFx0XHRpZiAocGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcblx0XHRcdFx0XHRwYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG5cdFx0XHRcdGN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG5cdFx0XHR9XG5cdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcblx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG5cdFx0XHRcdFx0cmVxdWVzdCArXG5cdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcblx0XHRcdFx0XHRtb2R1bGVJZFxuXHRcdFx0KTtcblx0XHRcdGN1cnJlbnRQYXJlbnRzID0gW107XG5cdFx0fVxuXHRcdHJldHVybiByZXF1aXJlKHJlcXVlc3QpO1xuXHR9O1xuXHR2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gcmVxdWlyZVtuYW1lXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRyZXF1aXJlW25hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblx0Zm9yICh2YXIgbmFtZSBpbiByZXF1aXJlKSB7XG5cdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXF1aXJlLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSkpO1xuXHRcdH1cblx0fVxuXHRmbi5lID0gZnVuY3Rpb24gKGNodW5rSWQpIHtcblx0XHRyZXR1cm4gdHJhY2tCbG9ja2luZ1Byb21pc2UocmVxdWlyZS5lKGNodW5rSWQpKTtcblx0fTtcblx0cmV0dXJuIGZuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNb2R1bGVIb3RPYmplY3QobW9kdWxlSWQsIG1lKSB7XG5cdHZhciBfbWFpbiA9IGN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQ7XG5cdHZhciBob3QgPSB7XG5cdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuXHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG5cdFx0X2FjY2VwdGVkRXJyb3JIYW5kbGVyczoge30sXG5cdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcblx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcblx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcblx0XHRfc2VsZkludmFsaWRhdGVkOiBmYWxzZSxcblx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcblx0XHRfbWFpbjogX21haW4sXG5cdFx0X3JlcXVpcmVTZWxmOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjdXJyZW50UGFyZW50cyA9IG1lLnBhcmVudHMuc2xpY2UoKTtcblx0XHRcdGN1cnJlbnRDaGlsZE1vZHVsZSA9IF9tYWluID8gdW5kZWZpbmVkIDogbW9kdWxlSWQ7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcblx0XHR9LFxuXG5cdFx0Ly8gTW9kdWxlIEFQSVxuXHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHRhY2NlcHQ6IGZ1bmN0aW9uIChkZXAsIGNhbGxiYWNrLCBlcnJvckhhbmRsZXIpIHtcblx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cdFx0XHRcdFx0aG90Ll9hY2NlcHRlZEVycm9ySGFuZGxlcnNbZGVwW2ldXSA9IGVycm9ySGFuZGxlcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG5cdFx0XHRcdGhvdC5fYWNjZXB0ZWRFcnJvckhhbmRsZXJzW2RlcF0gPSBlcnJvckhhbmRsZXI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRkZWNsaW5lOiBmdW5jdGlvbiAoZGVwKSB7XG5cdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIgJiYgZGVwICE9PSBudWxsKVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuXHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuXHRcdH0sXG5cdFx0ZGlzcG9zZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG5cdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuXHRcdH0sXG5cdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcblx0XHR9LFxuXHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX3NlbGZJbnZhbGlkYXRlZCA9IHRydWU7XG5cdFx0XHRzd2l0Y2ggKGN1cnJlbnRTdGF0dXMpIHtcblx0XHRcdFx0Y2FzZSBcImlkbGVcIjpcblx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uaG1ySSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtcklba2V5XShcblx0XHRcdFx0XHRcdFx0bW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHNldFN0YXR1cyhcInJlYWR5XCIpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcblx0XHRcdFx0XHRPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5obXJJW2tleV0oXG5cdFx0XHRcdFx0XHRcdG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVyc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcblx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG5cdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuXHRcdFx0XHRcdChxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSBxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgfHwgW10pLnB1c2goXG5cdFx0XHRcdFx0XHRtb2R1bGVJZFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0Ly8gaWdub3JlIHJlcXVlc3RzIGluIGVycm9yIHN0YXRlc1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuXHRcdGNoZWNrOiBob3RDaGVjayxcblx0XHRhcHBseTogaG90QXBwbHksXG5cdFx0c3RhdHVzOiBmdW5jdGlvbiAobCkge1xuXHRcdFx0aWYgKCFsKSByZXR1cm4gY3VycmVudFN0YXR1cztcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24gKGwpIHtcblx0XHRcdHZhciBpZHggPSByZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcblx0XHRcdGlmIChpZHggPj0gMCkgcmVnaXN0ZXJlZFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuXHRcdH0sXG5cblx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcblx0XHRkYXRhOiBjdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cblx0fTtcblx0Y3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuXHRyZXR1cm4gaG90O1xufVxuXG5mdW5jdGlvbiBzZXRTdGF0dXMobmV3U3RhdHVzKSB7XG5cdGN1cnJlbnRTdGF0dXMgPSBuZXdTdGF0dXM7XG5cdHZhciByZXN1bHRzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RlcmVkU3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG5cdFx0cmVzdWx0c1tpXSA9IHJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG5cblx0cmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpO1xufVxuXG5mdW5jdGlvbiB1bmJsb2NrKCkge1xuXHRpZiAoLS1ibG9ja2luZ1Byb21pc2VzID09PSAwKSB7XG5cdFx0c2V0U3RhdHVzKFwicmVhZHlcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoYmxvY2tpbmdQcm9taXNlcyA9PT0gMCkge1xuXHRcdFx0XHR2YXIgbGlzdCA9IGJsb2NraW5nUHJvbWlzZXNXYWl0aW5nO1xuXHRcdFx0XHRibG9ja2luZ1Byb21pc2VzV2FpdGluZyA9IFtdO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRsaXN0W2ldKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5mdW5jdGlvbiB0cmFja0Jsb2NraW5nUHJvbWlzZShwcm9taXNlKSB7XG5cdHN3aXRjaCAoY3VycmVudFN0YXR1cykge1xuXHRcdGNhc2UgXCJyZWFkeVwiOlxuXHRcdFx0c2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcblx0XHQvKiBmYWxsdGhyb3VnaCAqL1xuXHRcdGNhc2UgXCJwcmVwYXJlXCI6XG5cdFx0XHRibG9ja2luZ1Byb21pc2VzKys7XG5cdFx0XHRwcm9taXNlLnRoZW4odW5ibG9jaywgdW5ibG9jayk7XG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHByb21pc2U7XG5cdH1cbn1cblxuZnVuY3Rpb24gd2FpdEZvckJsb2NraW5nUHJvbWlzZXMoZm4pIHtcblx0aWYgKGJsb2NraW5nUHJvbWlzZXMgPT09IDApIHJldHVybiBmbigpO1xuXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRibG9ja2luZ1Byb21pc2VzV2FpdGluZy5wdXNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlc29sdmUoZm4oKSk7XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBob3RDaGVjayhhcHBseU9uVXBkYXRlKSB7XG5cdGlmIChjdXJyZW50U3RhdHVzICE9PSBcImlkbGVcIikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuXHR9XG5cdHJldHVybiBzZXRTdGF0dXMoXCJjaGVja1wiKVxuXHRcdC50aGVuKF9fd2VicGFja19yZXF1aXJlX18uaG1yTSlcblx0XHQudGhlbihmdW5jdGlvbiAodXBkYXRlKSB7XG5cdFx0XHRpZiAoIXVwZGF0ZSkge1xuXHRcdFx0XHRyZXR1cm4gc2V0U3RhdHVzKGFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCkgPyBcInJlYWR5XCIgOiBcImlkbGVcIikudGhlbihcblx0XHRcdFx0XHRmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRTdGF0dXMoXCJwcmVwYXJlXCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgdXBkYXRlZE1vZHVsZXMgPSBbXTtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMgPSBbXTtcblxuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoXG5cdFx0XHRcdFx0T2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDKS5yZWR1Y2UoZnVuY3Rpb24gKFxuXHRcdFx0XHRcdFx0cHJvbWlzZXMsXG5cdFx0XHRcdFx0XHRrZXlcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uaG1yQ1trZXldKFxuXHRcdFx0XHRcdFx0XHR1cGRhdGUuYyxcblx0XHRcdFx0XHRcdFx0dXBkYXRlLnIsXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZS5tLFxuXHRcdFx0XHRcdFx0XHRwcm9taXNlcyxcblx0XHRcdFx0XHRcdFx0Y3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMsXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZWRNb2R1bGVzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHByb21pc2VzO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0W10pXG5cdFx0XHRcdCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHdhaXRGb3JCbG9ja2luZ1Byb21pc2VzKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmIChhcHBseU9uVXBkYXRlKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpbnRlcm5hbEFwcGx5KGFwcGx5T25VcGRhdGUpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNldFN0YXR1cyhcInJlYWR5XCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB1cGRhdGVkTW9kdWxlcztcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG59XG5cbmZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcblx0aWYgKGN1cnJlbnRTdGF0dXMgIT09IFwicmVhZHlcIikge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXMgKHN0YXRlOiBcIiArXG5cdFx0XHRcdFx0Y3VycmVudFN0YXR1cyArXG5cdFx0XHRcdFx0XCIpXCJcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIGludGVybmFsQXBwbHkob3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsQXBwbHkob3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRhcHBseUludmFsaWRhdGVkTW9kdWxlcygpO1xuXG5cdHZhciByZXN1bHRzID0gY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMubWFwKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG5cdFx0cmV0dXJuIGhhbmRsZXIob3B0aW9ucyk7XG5cdH0pO1xuXHRjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycyA9IHVuZGVmaW5lZDtcblxuXHR2YXIgZXJyb3JzID0gcmVzdWx0c1xuXHRcdC5tYXAoZnVuY3Rpb24gKHIpIHtcblx0XHRcdHJldHVybiByLmVycm9yO1xuXHRcdH0pXG5cdFx0LmZpbHRlcihCb29sZWFuKTtcblxuXHRpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcblx0XHRyZXR1cm4gc2V0U3RhdHVzKFwiYWJvcnRcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aHJvdyBlcnJvcnNbMF07XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2Vcblx0dmFyIGRpc3Bvc2VQcm9taXNlID0gc2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcblxuXHRyZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdGlmIChyZXN1bHQuZGlzcG9zZSkgcmVzdWx0LmRpc3Bvc2UoKTtcblx0fSk7XG5cblx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuXHR2YXIgYXBwbHlQcm9taXNlID0gc2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cblx0dmFyIGVycm9yO1xuXHR2YXIgcmVwb3J0RXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG5cdH07XG5cblx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuXHRyZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdGlmIChyZXN1bHQuYXBwbHkpIHtcblx0XHRcdHZhciBtb2R1bGVzID0gcmVzdWx0LmFwcGx5KHJlcG9ydEVycm9yKTtcblx0XHRcdGlmIChtb2R1bGVzKSB7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKG1vZHVsZXNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gUHJvbWlzZS5hbGwoW2Rpc3Bvc2VQcm9taXNlLCBhcHBseVByb21pc2VdKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHNldFN0YXR1cyhcImZhaWxcIikudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcykge1xuXHRcdFx0cmV0dXJuIGludGVybmFsQXBwbHkob3B0aW9ucykudGhlbihmdW5jdGlvbiAobGlzdCkge1xuXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlSWQpIHtcblx0XHRcdFx0XHRpZiAobGlzdC5pbmRleE9mKG1vZHVsZUlkKSA8IDApIGxpc3QucHVzaChtb2R1bGVJZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm4gbGlzdDtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBzZXRTdGF0dXMoXCJpZGxlXCIpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIG91dGRhdGVkTW9kdWxlcztcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCkge1xuXHRpZiAocXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzKSB7XG5cdFx0aWYgKCFjdXJyZW50VXBkYXRlQXBwbHlIYW5kbGVycykgY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMgPSBbXTtcblx0XHRPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZUlkKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18uaG1ySVtrZXldKFxuXHRcdFx0XHRcdG1vZHVsZUlkLFxuXHRcdFx0XHRcdGN1cnJlbnRVcGRhdGVBcHBseUhhbmRsZXJzXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPSB1bmRlZmluZWQ7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0iLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgY2h1bmtzXG4vLyBcIjFcIiBtZWFucyBcImxvYWRlZFwiLCBvdGhlcndpc2Ugbm90IGxvYWRlZCB5ZXRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmhtclNfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18uaG1yU19yZXF1aXJlIHx8IHtcblx0MTc5OiAxXG59O1xuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGNodW5rIGluc3RhbGwgZnVuY3Rpb24gbmVlZGVkXG5cbi8vIG5vIGNodW5rIGxvYWRpbmdcblxuLy8gbm8gZXh0ZXJuYWwgaW5zdGFsbCBjaHVua1xuXG5mdW5jdGlvbiBsb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgdXBkYXRlZE1vZHVsZXNMaXN0KSB7XG5cdHZhciB1cGRhdGUgPSByZXF1aXJlKFwiLi9cIiArIF9fd2VicGFja19yZXF1aXJlX18uaHUoY2h1bmtJZCkpO1xuXHR2YXIgdXBkYXRlZE1vZHVsZXMgPSB1cGRhdGUubW9kdWxlcztcblx0dmFyIHJ1bnRpbWUgPSB1cGRhdGUucnVudGltZTtcblx0Zm9yKHZhciBtb2R1bGVJZCBpbiB1cGRhdGVkTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyh1cGRhdGVkTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRjdXJyZW50VXBkYXRlW21vZHVsZUlkXSA9IHVwZGF0ZWRNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdGlmKHVwZGF0ZWRNb2R1bGVzTGlzdCkgdXBkYXRlZE1vZHVsZXNMaXN0LnB1c2gobW9kdWxlSWQpO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBjdXJyZW50VXBkYXRlUnVudGltZS5wdXNoKHJ1bnRpbWUpO1xufVxuXG52YXIgY3VycmVudFVwZGF0ZUNodW5rcztcbnZhciBjdXJyZW50VXBkYXRlO1xudmFyIGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzO1xudmFyIGN1cnJlbnRVcGRhdGVSdW50aW1lO1xuZnVuY3Rpb24gYXBwbHlIYW5kbGVyKG9wdGlvbnMpIHtcblx0aWYgKF9fd2VicGFja19yZXF1aXJlX18uZikgZGVsZXRlIF9fd2VicGFja19yZXF1aXJlX18uZi5yZXF1aXJlSG1yO1xuXHRjdXJyZW50VXBkYXRlQ2h1bmtzID0gdW5kZWZpbmVkO1xuXHRmdW5jdGlvbiBnZXRBZmZlY3RlZE1vZHVsZUVmZmVjdHModXBkYXRlTW9kdWxlSWQpIHtcblx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcblx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjaGFpbjogW2lkXSxcblx0XHRcdFx0aWQ6IGlkXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG5cdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG5cdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG5cdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdGlmIChcblx0XHRcdFx0IW1vZHVsZSB8fFxuXHRcdFx0XHQobW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkICYmICFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWQpXG5cdFx0XHQpXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuXHRcdFx0XHRcdGNoYWluOiBjaGFpbixcblx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG5cdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcblx0XHRcdFx0dmFyIHBhcmVudCA9IF9fd2VicGFja19yZXF1aXJlX18uY1twYXJlbnRJZF07XG5cdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG5cdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcblx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcblx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcblx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuXHRcdFx0XHRxdWV1ZS5wdXNoKHtcblx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuXHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuXHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuXHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG5cdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuXHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcblx0XHR9XG5cdH1cblxuXHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuXHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG5cdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG5cdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cblx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZShtb2R1bGUpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIG1vZHVsZS5pZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuXHRcdCk7XG5cdH07XG5cblx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gY3VycmVudFVwZGF0ZSkge1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8oY3VycmVudFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG5cdFx0XHR2YXIgbmV3TW9kdWxlRmFjdG9yeSA9IGN1cnJlbnRVcGRhdGVbbW9kdWxlSWRdO1xuXHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuXHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdGlmIChuZXdNb2R1bGVGYWN0b3J5KSB7XG5cdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkTW9kdWxlRWZmZWN0cyhtb2R1bGVJZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSB7XG5cdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuXHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cblx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG5cdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuXHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuXHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG5cdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG5cdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcblx0XHRcdH1cblx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcblx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG5cdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuXHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuXHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG5cdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG5cdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcblx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcblx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG5cdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuXHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcblx0XHRcdH1cblx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0ZXJyb3I6IGFib3J0RXJyb3Jcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGlmIChkb0FwcGx5KSB7XG5cdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gbmV3TW9kdWxlRmFjdG9yeTtcblx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcblx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcblx0XHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5vKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG5cdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuXHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuXHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcblx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGN1cnJlbnRVcGRhdGUgPSB1bmRlZmluZWQ7XG5cblx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuXHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG5cdGZvciAodmFyIGogPSAwOyBqIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0dmFyIG91dGRhdGVkTW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbal07XG5cdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18uY1tvdXRkYXRlZE1vZHVsZUlkXTtcblx0XHRpZiAoXG5cdFx0XHRtb2R1bGUgJiZcblx0XHRcdChtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQgfHwgbW9kdWxlLmhvdC5fbWFpbikgJiZcblx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcblx0XHRcdGFwcGxpZWRVcGRhdGVbb3V0ZGF0ZWRNb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZSAmJlxuXHRcdFx0Ly8gd2hlbiBjYWxsZWQgaW52YWxpZGF0ZSBzZWxmLWFjY2VwdGluZyBpcyBub3QgcG9zc2libGVcblx0XHRcdCFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWRcblx0XHQpIHtcblx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcblx0XHRcdFx0bW9kdWxlOiBvdXRkYXRlZE1vZHVsZUlkLFxuXHRcdFx0XHRyZXF1aXJlOiBtb2R1bGUuaG90Ll9yZXF1aXJlU2VsZixcblx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWRcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcblxuXHRyZXR1cm4ge1xuXHRcdGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzLmZvckVhY2goZnVuY3Rpb24gKGNodW5rSWQpIHtcblx0XHRcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdH0pO1xuXHRcdFx0Y3VycmVudFVwZGF0ZVJlbW92ZWRDaHVua3MgPSB1bmRlZmluZWQ7XG5cblx0XHRcdHZhciBpZHg7XG5cdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcblx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuXHRcdFx0XHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblx0XHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG5cdFx0XHRcdHZhciBkYXRhID0ge307XG5cblx0XHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG5cdFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG5cdFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRkaXNwb3NlSGFuZGxlcnNbal0uY2FsbChudWxsLCBkYXRhKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmhtckRbbW9kdWxlSWRdID0gZGF0YTtcblxuXHRcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuXHRcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG5cdFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuXHRcdFx0XHRkZWxldGUgX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXTtcblxuXHRcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG5cdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cblx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHZhciBjaGlsZCA9IF9fd2VicGFja19yZXF1aXJlX18uY1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuXHRcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG5cdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG5cdFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuXHRcdFx0dmFyIGRlcGVuZGVuY3k7XG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0bW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXy5jW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdGlmIChtb2R1bGUpIHtcblx0XHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID1cblx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbb3V0ZGF0ZWRNb2R1bGVJZF07XG5cdFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuXHRcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcblx0XHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcHBseTogZnVuY3Rpb24gKHJlcG9ydEVycm9yKSB7XG5cdFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcblx0XHRcdGZvciAodmFyIHVwZGF0ZU1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcblx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubyhhcHBsaWVkVXBkYXRlLCB1cGRhdGVNb2R1bGVJZCkpIHtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bdXBkYXRlTW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVt1cGRhdGVNb2R1bGVJZF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcnVuIG5ldyBydW50aW1lIG1vZHVsZXNcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFVwZGF0ZVJ1bnRpbWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZVJ1bnRpbWVbaV0oX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG5cdFx0XHRmb3IgKHZhciBvdXRkYXRlZE1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm8ob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG91dGRhdGVkTW9kdWxlSWQpKSB7XG5cdFx0XHRcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18uY1tvdXRkYXRlZE1vZHVsZUlkXTtcblx0XHRcdFx0XHRpZiAobW9kdWxlKSB7XG5cdFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9XG5cdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW291dGRhdGVkTW9kdWxlSWRdO1xuXHRcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0XHRcdFx0dmFyIGVycm9ySGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRcdHZhciBkZXBlbmRlbmNpZXNGb3JDYWxsYmFja3MgPSBbXTtcblx0XHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcblx0XHRcdFx0XHRcdFx0dmFyIGFjY2VwdENhbGxiYWNrID1cblx0XHRcdFx0XHRcdFx0XHRtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcblx0XHRcdFx0XHRcdFx0dmFyIGVycm9ySGFuZGxlciA9XG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlLmhvdC5fYWNjZXB0ZWRFcnJvckhhbmRsZXJzW2RlcGVuZGVuY3ldO1xuXHRcdFx0XHRcdFx0XHRpZiAoYWNjZXB0Q2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoYWNjZXB0Q2FsbGJhY2spICE9PSAtMSkgY29udGludWU7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goYWNjZXB0Q2FsbGJhY2spO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9ySGFuZGxlcnMucHVzaChlcnJvckhhbmRsZXIpO1xuXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrcy5wdXNoKGRlcGVuZGVuY3kpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGNhbGxiYWNrcy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrc1trXS5jYWxsKG51bGwsIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBlcnJvckhhbmRsZXJzW2tdID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9ySGFuZGxlcnNba10oZXJyLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG91dGRhdGVkTW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBkZXBlbmRlbmNpZXNGb3JDYWxsYmFja3Nba11cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG91dGRhdGVkTW9kdWxlSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IGRlcGVuZGVuY2llc0ZvckNhbGxiYWNrc1trXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIyKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBvdXRkYXRlZE1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogZGVwZW5kZW5jaWVzRm9yQ2FsbGJhY2tzW2tdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuXHRcdFx0Zm9yICh2YXIgbyA9IDA7IG8gPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBvKyspIHtcblx0XHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbb107XG5cdFx0XHRcdHZhciBtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGl0ZW0ucmVxdWlyZShtb2R1bGVJZCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyLCB7XG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdG1vZHVsZTogX193ZWJwYWNrX3JlcXVpcmVfXy5jW21vZHVsZUlkXVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcblx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcblx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIyKTtcblx0XHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG5cdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXBvcnRFcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb3V0ZGF0ZWRNb2R1bGVzO1xuXHRcdH1cblx0fTtcbn1cbl9fd2VicGFja19yZXF1aXJlX18uaG1ySS5yZXF1aXJlID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBhcHBseUhhbmRsZXJzKSB7XG5cdGlmICghY3VycmVudFVwZGF0ZSkge1xuXHRcdGN1cnJlbnRVcGRhdGUgPSB7fTtcblx0XHRjdXJyZW50VXBkYXRlUnVudGltZSA9IFtdO1xuXHRcdGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzID0gW107XG5cdFx0YXBwbHlIYW5kbGVycy5wdXNoKGFwcGx5SGFuZGxlcik7XG5cdH1cblx0aWYgKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oY3VycmVudFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG5cdFx0Y3VycmVudFVwZGF0ZVttb2R1bGVJZF0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdO1xuXHR9XG59O1xuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJDLnJlcXVpcmUgPSBmdW5jdGlvbiAoXG5cdGNodW5rSWRzLFxuXHRyZW1vdmVkQ2h1bmtzLFxuXHRyZW1vdmVkTW9kdWxlcyxcblx0cHJvbWlzZXMsXG5cdGFwcGx5SGFuZGxlcnMsXG5cdHVwZGF0ZWRNb2R1bGVzTGlzdFxuKSB7XG5cdGFwcGx5SGFuZGxlcnMucHVzaChhcHBseUhhbmRsZXIpO1xuXHRjdXJyZW50VXBkYXRlQ2h1bmtzID0ge307XG5cdGN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzID0gcmVtb3ZlZENodW5rcztcblx0Y3VycmVudFVwZGF0ZSA9IHJlbW92ZWRNb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAob2JqLCBrZXkpIHtcblx0XHRvYmpba2V5XSA9IGZhbHNlO1xuXHRcdHJldHVybiBvYmo7XG5cdH0sIHt9KTtcblx0Y3VycmVudFVwZGF0ZVJ1bnRpbWUgPSBbXTtcblx0Y2h1bmtJZHMuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmtJZCkge1xuXHRcdGlmIChcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmXG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gIT09IHVuZGVmaW5lZFxuXHRcdCkge1xuXHRcdFx0cHJvbWlzZXMucHVzaChsb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgdXBkYXRlZE1vZHVsZXNMaXN0KSk7XG5cdFx0XHRjdXJyZW50VXBkYXRlQ2h1bmtzW2NodW5rSWRdID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VycmVudFVwZGF0ZUNodW5rc1tjaHVua0lkXSA9IGZhbHNlO1xuXHRcdH1cblx0fSk7XG5cdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmYpIHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmYucmVxdWlyZUhtciA9IGZ1bmN0aW9uIChjaHVua0lkLCBwcm9taXNlcykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRjdXJyZW50VXBkYXRlQ2h1bmtzICYmXG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubyhjdXJyZW50VXBkYXRlQ2h1bmtzLCBjaHVua0lkKSAmJlxuXHRcdFx0XHQhY3VycmVudFVwZGF0ZUNodW5rc1tjaHVua0lkXVxuXHRcdFx0KSB7XG5cdFx0XHRcdHByb21pc2VzLnB1c2gobG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpKTtcblx0XHRcdFx0Y3VycmVudFVwZGF0ZUNodW5rc1tjaHVua0lkXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5obXJNID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiByZXF1aXJlKFwiLi9cIiArIF9fd2VicGFja19yZXF1aXJlX18uaG1yRigpKTtcblx0fSlbJ2NhdGNoJ10oZnVuY3Rpb24oZXJyKSB7IGlmKGVyci5jb2RlICE9PSAnTU9EVUxFX05PVF9GT1VORCcpIHRocm93IGVycjsgfSk7XG59IiwiLy8gbW9kdWxlIGNhY2hlIGFyZSB1c2VkIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzEpO1xuIl0sIm5hbWVzIjpbImZpZWxkSWROYW1lIiwiZmllbGRTaXplU2VsZWN0SWROYW1lIiwiZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3RJZE5hbWUiLCJnYW1lSW5pdGlhbGl6YXRpb25CdXR0b25JZE5hbWUiLCJyZWZyZXNoQnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBsYXllclZzUGxheWVyQnV0dG9uIiwicGxheWVyVnNDb21wdXRlckJ1dHRvbiIsImZpZWxkU2l6ZVNlbGVjdCIsIkh0bWxHYW1lSW5pdGlhbGl6YXRpb25CdXR0b24iLCJjZWxsRm9yV2luU2VsZWN0IiwiaHRtbEhpbnRIZWFkaW5nIiwiZGlzYWJsZUJ1dHRvbkNsYXNzTmFtZSIsInRpY1RhY1RvZUdhbWUiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJmaWVsZE5hbWUiLCJpc0dhbWVTdGFydHMiLCJnYW1lRmllbGQiLCJmaWVsZFNpemUiLCJmaWVsZCIsImdlbmVyYXRlRmllbGQiLCJnYW1lRmllbGRXaXRoUm93QW5kQ29scyIsImdlbmVyYXRlRmllbGRXaXRoUm93QW5kQ29scyIsImxlbmdodEZvcldpbiIsInJlZnJlc2giLCJmaWxsIiwiZ2V0UmFuZG9tQ2VsbElkRm9yQ29tcHV0ZXJTdGVwIiwicmFuZG9tQ2VsbElkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiaXNDZWxsRW1wdHkiLCJnZXRMZW5naHRGb3JXaW4iLCJnZXRGaWVsZFNpemUiLCJzZXRTeW1ib2xUb1NlbGVjdGVkRmllbGRDZWxsIiwiY3VycmVudFN0ZXBTeW1ib2wiLCJzZWxlY3RlZENlbGxOdW1iZXIiLCJzZXRMZW5naHRGb3JXaW4iLCJuZXdsZW5naHRGb3JXaW4iLCJjZWxsSW5kZXgiLCJpc0FsbENlbGxzVGFrZW4iLCJldmVyeSIsImNlbGwiLCJpc0NlbGxFeGlzdHNPbkZpZWxkIiwiZmlyc3RJbmRleCIsInNlY29uZEluZGV4IiwidW5kZWZpbmVkIiwiaXNXaW5Db21iaW5hdGlvbiIsImN1cnJlbnRTeW1ib2wiLCJpc1dpbk9uUm93IiwiaXNXaW5PbkNvbHVtbiIsImlzV2luT25NYWluRGlhZ29uYWwiLCJpc1dpbk9uU2Vjb25kYXJ5RGlhZ29uYWwiLCJyb3dJbmRleCIsImN1cnJlbnRTdHJpY2siLCJjb2x1bW5JbmRleCIsImluZGV4RGVsdGEiLCJyb3dTaGlmdGVkSW5kZXgiLCJjb2x1bW5TaGlmdGVkSW5kZXgiLCJBcnJheSIsInJvd0xpbWl0cyIsImluZGV4IiwicHVzaCIsInNsaWNlIiwiaHRtbEdhbWVGaWVsZCIsImZpcnN0U3RlcFN5bWJvbCIsInNlY29uZFN0ZXBTeW1ib2wiLCJmaXJzdFN0ZXBTeW1ib2xDbGFzc05hbWUiLCJzZWNvbmRTdGVwU3ltYm9sQ2xhc3NOYW1lIiwiY2VsbFRhZ05hbWUiLCJjZWxsSWROYW1lIiwiY2VsbENsYXNzTmFtZSIsInJvd0lkQW5kQ2xhc3NOYW1lIiwicm93VGFnTmFtZSIsImh0bWxNZXNzYWdlSGVhZGluZyIsImFsbEh0bWxDZWxscyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJyZWZyZXNoSHRubENlbGxzIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVmcmVzaEhlYWRpbmdNZXNzYWdlIiwic2V0SGVhZGluZ0lubmVySHRtbCIsIm1lc3NhZ2UiLCJhZGQiLCJzZXRTeW1ib2xUb1NlbGN0ZWRIdG1sQ2VsbCIsImNlbGxJZCIsInNlbGVjdGVkQ2VsbCIsImN1cnJlbnRDZWxsSWQiLCJyb3ciLCJnZW5lcmF0ZVJvdyIsImdlbmVyYXRlQ2VsbCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkNlbGxDbGljayIsImdhbWVTeW1ib2xzIiwiX2ZpcnN0U3RlcFN5bWJvbCIsIl9zZWNvbmRTdGVwU3ltYm9sIiwiX2N1cnJlbnRTdGVwU3ltYm9sIiwic3RlcFN5bWJvbCIsInRvZ2dsZUN1cnJlbnRTdGVwU3ltYm9sIiwiX2dhbWVNb2RlIiwiX2lzR2FtZVZzQ29tcHV0ZXIiLCJpc0dhbWVWc0NvbXB1dGVyIiwibmV3SXNHYW1lVnNDb21wdXRlclZhbHVlIiwiaXNQbGF5ZXJWc1BsYXllckdhbWVNb2RlIiwiaXNQbGF5ZXJWc0NvbXB1dGVyR2FtZU1vZGUiLCJnYW1lU3RvcmFnZSIsImZpZWxkTmFtZU9mR2FtZUZpZWxkIiwiZmllbGROYW1lT2ZHYW1lRmllbGRTaXplIiwiZmllbGROYW1lT2ZDdXJyZW50U3ltYm9sIiwiZmllbGROYW1lT2ZJc0dhbWVWc0NvbXB1dGVyIiwiZmllbGROYW1lT2ZDZWxsc0ZvcldpbiIsImdhbWVMb2NhbFN0b3JhZ2UiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRGaWVsZCIsImNvbnNvbGUiLCJsb2ciLCJqb2luIiwic2V0R2FtZUZpZWxkVG9Mb2NhbFN0b3JyYWdlIiwidG9TdHJpbmciLCJjbGVhciIsImdldGZpZWxkU2l6ZSIsInBhcnNlSW50Iiwic3BsaXQiLCJnZXRDdXJyZW50U3RlcFN5bWJvbCIsImdldElzR2FtZVZzQ29tcHV0ZXIiLCJnZXRDZWxsc1F1YW50aXR5Rm9yV2luIiwic2V0RGVmYXVsdERhdGEiLCJzZXRGaWVsZFNpemUiLCJzZXRDdXJyZW50U3RlcFN5bWJvbCIsInNldElzR2FtZVZzQ29tcHV0ZXIiLCJzZXRDZWxsc1F1YW50aXR5Rm9yV2luIiwidmFsdWUiLCJzZXRJdGVtIiwiY3VycmVudEdhbWVNb2RlIiwibmV3Q2VsbFNpemVGb3JXaW4iLCJpc09uZU9mRmllbGRVbmRlZmluZWQiLCJpc0dhbWVWc0NvbXB1dGVyVW5kZWZpbmVkIiwiaXNDdXJyZW50U3RlcFN5bWJvbFVuZGVmaW5lZCIsImlzRmllbGRGcm9tTG9jYWxTdG9ycmFnZUVtcHR5IiwiaXNmaWVsZFNpemVGcm9tTG9jYWxTdG9ycmFnZVVuZGVmaW5lZCIsImlzQ2VsbHNGb3JXaW5VbmRlZmluZWQiLCJpc05hTiIsInJlZnJlc2hHYW1lIiwidG9nZ2xlSXNHYW1lU3RhcnRzIiwiZ2FtZU1vZGUiLCJnYW1lU2VtYm9sc1JlZnJlc2giLCJnZXRHYW1lRW5kTWVzc2FnZSIsInNldEdhbWVEYXRhRnJvbUxvY2FsU3RvcnJhZ2UiLCJmaWVsZEZyb21Mb2NhbFN0b3JhZ2UiLCJjdXJyZW50bGVuZ2h0Rm9yV2luIiwic2V0X2dhbWVNb2RlRnJvbUxvY2FsU3RvcmFnZSIsInNldFN5bWJvbHNGcm9tTG9jYWxTdG9yYWdlT25GaWVsZHMiLCJzZXRHYW1lSGVhZGluZ01lc3NhZ2VGcm9tTG9jYWxTdG9yYWdlIiwic2V0SW5wdXRWYWx1ZXNGcm9tTG9jYWxTdG9ycmFnZSIsImZvckVhY2giLCJjdXJyZW50Q2VsbCIsIm9uUGxheWVyVnNDb21wdXRlckJ1dHRvbkNsaWNrIiwiY3VycmVudEhlYWRpbmdNZXNzYWdlIiwiZmllbGRDZWxsc1NpemVGb3JXaW5TZWxlY3QiLCJpc1BsYXllckNhblN0ZXBUb0Nob3NlbkNlbGwiLCJjbGlja2VkQ2VsbElkIiwiaXNDb21wdXRlckNhblN0ZXAiLCJtYWtlU3RlcCIsIm1ha2VDb21wdXRlclN0ZXAiLCJjZWxsSWRGb3JDb21wdXRlclN0ZXAiLCJnYW1lSW5pdGlhbGl6YXRpb25CdXR0b24iLCJpc0F2YWlsaWJsZSIsImh0bWxCdXR0b24iLCJpc0NsaWNrZWQiLCJldmVudCIsInNlcGFyYXRvckluZGV4IiwiZ2V0Q2VsbElkRnJvbUlkTmFtZSIsInRhcmdldCIsImlkIiwicmVmcmVzaEZpZWxkcyIsIm9uUGxheWVyVnNQbGF5ZXJCdXR0b25DbGljayIsIm9uY2hhbmdlIiwibmV3RmllbGRTaXplIiwiYWxlcnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJlcnJvciIsImV4cG9ydHMiLCJtb2R1bGUiLCJleGVjT3B0aW9ucyIsImZhY3RvcnkiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicmVxdWlyZSIsImkiLCJoYW5kbGVyIiwiY2FsbCIsImUiLCJtIiwiYyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImh1IiwiY2h1bmtJZCIsImgiLCJobXJGIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY3VycmVudENoaWxkTW9kdWxlIiwiY3VycmVudFVwZGF0ZUFwcGx5SGFuZGxlcnMiLCJxdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMiLCJjdXJyZW50TW9kdWxlRGF0YSIsImluc3RhbGxlZE1vZHVsZXMiLCJjdXJyZW50UGFyZW50cyIsInJlZ2lzdGVyZWRTdGF0dXNIYW5kbGVycyIsImN1cnJlbnRTdGF0dXMiLCJibG9ja2luZ1Byb21pc2VzIiwiYmxvY2tpbmdQcm9taXNlc1dhaXRpbmciLCJzZXRTdGF0dXMiLCJuZXdTdGF0dXMiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbCIsInVuYmxvY2siLCJ0aGVuIiwibGlzdCIsImhvdENoZWNrIiwiYXBwbHlPblVwZGF0ZSIsIkVycm9yIiwiaG1yTSIsInVwZGF0ZSIsInVwZGF0ZWRNb2R1bGVzIiwia2V5cyIsImhtckMiLCJyZWR1Y2UiLCJwcm9taXNlcyIsInIiLCJmbiIsImludGVybmFsQXBwbHkiLCJyZXNvbHZlIiwiYXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMiLCJob3RBcHBseSIsIm9wdGlvbnMiLCJtYXAiLCJlcnJvcnMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZGlzcG9zZVByb21pc2UiLCJyZXN1bHQiLCJkaXNwb3NlIiwiYXBwbHlQcm9taXNlIiwicmVwb3J0RXJyb3IiLCJlcnIiLCJvdXRkYXRlZE1vZHVsZXMiLCJhcHBseSIsIm1vZHVsZXMiLCJpbmRleE9mIiwiaG1ySSIsImhtckQiLCJtZSIsIl9tYWluIiwiaG90IiwicmVxdWVzdCIsImFjdGl2ZSIsInBhcmVudHMiLCJjaGlsZHJlbiIsIndhcm4iLCJjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IiLCJuYW1lIiwiY29uZmlndXJhYmxlIiwic2V0IiwicHJvbWlzZSIsInRyYWNrQmxvY2tpbmdQcm9taXNlIiwiY3JlYXRlUmVxdWlyZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9hY2NlcHRlZEVycm9ySGFuZGxlcnMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9zZWxmSW52YWxpZGF0ZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiX3JlcXVpcmVTZWxmIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJlcnJvckhhbmRsZXIiLCJkZWNsaW5lIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImludmFsaWRhdGUiLCJjaGVjayIsInN0YXR1cyIsImwiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJjdXJyZW50VXBkYXRlQ2h1bmtzIiwiY3VycmVudFVwZGF0ZSIsImN1cnJlbnRVcGRhdGVSZW1vdmVkQ2h1bmtzIiwiY3VycmVudFVwZGF0ZVJ1bnRpbWUiLCJpbnN0YWxsZWRDaHVua3MiLCJobXJTX3JlcXVpcmUiLCJsb2FkVXBkYXRlQ2h1bmsiLCJ1cGRhdGVkTW9kdWxlc0xpc3QiLCJydW50aW1lIiwiYXBwbHlIYW5kbGVyIiwiZ2V0QWZmZWN0ZWRNb2R1bGVFZmZlY3RzIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJ0eXBlIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImYiLCJyZXF1aXJlSG1yIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsIm5ld01vZHVsZUZhY3RvcnkiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiaiIsIm91dGRhdGVkTW9kdWxlSWQiLCJkZXBlbmRlbmN5IiwiZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJjYWxsYmFja3MiLCJlcnJvckhhbmRsZXJzIiwiZGVwZW5kZW5jaWVzRm9yQ2FsbGJhY2tzIiwiYWNjZXB0Q2FsbGJhY2siLCJrIiwiZGVwZW5kZW5jeUlkIiwiZXJyMiIsIm9uRXJyb3JlZCIsIm9yaWdpbmFsRXJyb3IiLCJpZ25vcmVFcnJvcmVkIiwiYXBwbHlIYW5kbGVycyIsImNodW5rSWRzIiwicmVtb3ZlZENodW5rcyIsInJlbW92ZWRNb2R1bGVzIiwiY29kZSJdLCJzb3VyY2VSb290IjoiIn0=